/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 *
 * File: target_generation_lib.c
 *
 * Code generated for Simulink model 'FSW_Lib0'.
 *
 * Model version                  : 1.337
 * Simulink Coder version         : 9.0 (R2018b) 24-May-2018
 * C/C++ source code generated on : Sat Apr 17 16:27:21 2021
 *
 * Target selection: ert.tlc
 * Embedded hardware selection: NXP->Cortex-M4
 * Code generation objectives:
 *    1. Execution efficiency
 *    2. RAM efficiency
 * Validation result: Not run
 */

#include "target_generation_lib.h"

/* Include model header file for global data */
#include "FSW_Lib0.h"
#include "FSW_Lib0_private.h"
#include "MWDSP_EPH_R_B.h"
#include "align_vecs_GEQPakmX.h"
#include "bsearch_s1bfmSFP.h"
#include "convert_to_CCS_TWUhmVkC.h"
#include "convert_to_CCS_uvSSMF4Z.h"
#include "deriv_AZ3NAdJG.h"
#include "eye_bAKT5eRN.h"
#include "foh_HcncvH72.h"
#include "inv_v2jI2dX7.h"
#include "kron_gzkpgh2R.h"
#include "kron_mrguWHGo.h"
#include "mldivide_FcIbHgdz.h"
#include "norm_2e9Xj4lM.h"
#include "norm_UjNDAYVY.h"
#include "norm_ajWdQkav.h"
#include "schur_hD1lAh31.h"

/* Forward declaration for local functions */
static void parse_ecos_VYvjNTb8_m(const real_T xi[10], const real_T xf[7], const
  real_T J[9], const real_T EH[10000], const real_T BE[3000], const real_T ES
  [100], const real_T AR[100], const real_T ME[16], const real_T MI[16], real_T
  T_max, real_T w_max, real_T s_max, real_T s_min, real_T w_v, real_T c[332],
  real_T G[157368], real_T h[474], real_T A[38844], real_T b[117]);

/* Output and update for Simulink Function: '<S412>/call to ECOS SOCP solver (compiled C function)' */
void run_ecos(int32_T rtu_n, int32_T rtu_m, int32_T rtu_p, int32_T rtu_l,
              int32_T rtu_ncones, const real_T rtu_c[332], const int32_T
              rtu_Gjc[333], const int32_T rtu_Gir[834], const real_T rtu_Gpr[834],
              const real_T rtu_h[474], const int32_T rtu_q[21], const int32_T
              rtu_Ajc[333], const int32_T rtu_Air[1278], const real_T rtu_Apr
              [1278], const real_T rtu_b[117], real_T rty_y[334])
{
  /* local block i/o variables */
  real_T rtb_sfun_ecos[334];
  int32_T rtb_TmpSignalConversionAtGirOut[834];
  real_T rtb_TmpSignalConversionAthOutpo[474];
  int32_T rtb_TmpSignalConversionAtnOutpo;
  int32_T rtb_TmpSignalConversionAtmOutpo;
  int32_T rtb_TmpSignalConversionAtpOutpo;
  int32_T rtb_TmpSignalConversionAtlOutpo;
  int32_T rtb_TmpSignalConversionAtncones;
  real_T rtb_TmpSignalConversionAtcOutpo[332];
  int32_T rtb_TmpSignalConversionAtGjcOut[333];
  int32_T rtb_TmpSignalConversionAtqOutpo[21];
  int32_T rtb_TmpSignalConversionAtAjcOut[333];
  real_T rtb_TmpSignalConversionAtbOutpo[117];

  /* SignalConversion: '<S417>/TmpSignal ConversionAtAirOutport1' */
  memcpy(&rtDW.rtb_TmpSignalConversionAtAirO_k[0], &rtu_Air[0], 1278U * sizeof
         (int32_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAtAprOutport1' */
  memcpy(&rtDW.rtb_TmpSignalConversionAtAprO_m[0], &rtu_Apr[0], 1278U * sizeof
         (real_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAtGirOutport1' */
  memcpy(&rtb_TmpSignalConversionAtGirOut[0], &rtu_Gir[0], 834U * sizeof(int32_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAtGprOutport1' */
  memcpy(&rtDW.rtb_TmpSignalConversionAtGprO_c[0], &rtu_Gpr[0], 834U * sizeof
         (real_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAthOutport1' */
  memcpy(&rtb_TmpSignalConversionAthOutpo[0], &rtu_h[0], 474U * sizeof(real_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAtnOutport1' */
  rtb_TmpSignalConversionAtnOutpo = rtu_n;

  /* SignalConversion: '<S417>/TmpSignal ConversionAtmOutport1' */
  rtb_TmpSignalConversionAtmOutpo = rtu_m;

  /* SignalConversion: '<S417>/TmpSignal ConversionAtpOutport1' */
  rtb_TmpSignalConversionAtpOutpo = rtu_p;

  /* SignalConversion: '<S417>/TmpSignal ConversionAtlOutport1' */
  rtb_TmpSignalConversionAtlOutpo = rtu_l;

  /* SignalConversion: '<S417>/TmpSignal ConversionAtnconesOutport1' */
  rtb_TmpSignalConversionAtncones = rtu_ncones;

  /* SignalConversion: '<S417>/TmpSignal ConversionAtcOutport1' */
  memcpy(&rtb_TmpSignalConversionAtcOutpo[0], &rtu_c[0], 332U * sizeof(real_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAtGjcOutport1' */
  memcpy(&rtb_TmpSignalConversionAtGjcOut[0], &rtu_Gjc[0], 333U * sizeof(int32_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAtqOutport1' */
  memcpy(&rtb_TmpSignalConversionAtqOutpo[0], &rtu_q[0], 21U * sizeof(int32_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAtAjcOutport1' */
  memcpy(&rtb_TmpSignalConversionAtAjcOut[0], &rtu_Ajc[0], 333U * sizeof(int32_T));

  /* SignalConversion: '<S417>/TmpSignal ConversionAtbOutport1' */
  memcpy(&rtb_TmpSignalConversionAtbOutpo[0], &rtu_b[0], 117U * sizeof(real_T));

  /* S-Function (sfun_ecos): '<S417>/sfun_ecos' */
  callecos(rtb_TmpSignalConversionAtnOutpo, rtb_TmpSignalConversionAtmOutpo,
           rtb_TmpSignalConversionAtpOutpo, rtb_TmpSignalConversionAtlOutpo,
           rtb_TmpSignalConversionAtncones, (real_T*)
           &rtb_TmpSignalConversionAtcOutpo[0], (int32_T*)
           &rtb_TmpSignalConversionAtGjcOut[0], (int32_T*)
           &rtb_TmpSignalConversionAtGirOut[0], (real_T*)
           &rtDW.rtb_TmpSignalConversionAtGprO_c[0], (real_T*)
           &rtb_TmpSignalConversionAthOutpo[0], (int32_T*)
           &rtb_TmpSignalConversionAtqOutpo[0], (int32_T*)
           &rtb_TmpSignalConversionAtAjcOut[0], (int32_T*)
           &rtDW.rtb_TmpSignalConversionAtAirO_k[0], (real_T*)
           &rtDW.rtb_TmpSignalConversionAtAprO_m[0], (real_T*)
           &rtb_TmpSignalConversionAtbOutpo[0], &rtb_sfun_ecos[0]);

  /* SignalConversion: '<S417>/TmpSignal ConversionAtyInport1' */
  memcpy(&rty_y[0], &rtb_sfun_ecos[0], 334U * sizeof(real_T));
}

/* Function for MATLAB Function: '<S412>/SOLVE' */
static void parse_ecos_VYvjNTb8_m(const real_T xi[10], const real_T xf[7], const
  real_T J[9], const real_T EH[10000], const real_T BE[3000], const real_T ES
  [100], const real_T AR[100], const real_T ME[16], const real_T MI[16], real_T
  T_max, real_T w_max, real_T s_max, real_T s_min, real_T w_v, real_T c[332],
  real_T G[157368], real_T h[474], real_T A[38844], real_T b[117])
{
  real_T u_max[30];
  real_T hquad_[92];
  int8_T Hk[3320];
  real_T hquad__[152];
  real_T b_w_max[30];
  static const real_T d[100] = { 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    1.0 };

  static const real_T e[9] = { 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0 };

  static const int8_T f[3320] = { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0 };

  static const int8_T g[2324] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0,
    0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,
    0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };

  static const real_T i[92] = { 0.70710678118654746, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.70710678118654746, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 };

  static const real_T j[6] = { 2.1213203435596424, 0.0, 0.0, 0.0, 0.0,
    -0.70710678118654746 };

  static const real_T l[332] = { -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.70710678118654746, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0 };

  static const real_T m[332] = { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.70710678118654746, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 };

  static const int8_T Hs[332] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0 };

  static const int8_T n[332] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0 };

  static const int8_T c_b[40] = { 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };

  int32_T i_0;
  real_T tmp[9];
  real_T tmp_0[30];
  real_T MI_0[40];
  int32_T i_1;
  real_T tmp_1;
  int32_T A_tmp;
  int32_T MI_tmp;
  int32_T MI_tmp_0;
  int32_T MI_tmp_1;
  for (i_0 = 0; i_0 < 30; i_0++) {
    u_max[i_0] = T_max;
    b_w_max[i_0] = w_max;
  }

  inv_v2jI2dX7(J, tmp);
  memset(&tmp_0[0], 0, 12U * sizeof(real_T));
  for (i_0 = 0; i_0 < 9; i_0++) {
    tmp_0[i_0 + 12] = tmp[i_0];
    tmp_0[i_0 + 21] = 0.0;
  }

  kron_gzkpgh2R(d, tmp_0, rtDW.dv1);
  memcpy(&rtDW.Hw[0], &rtDW.dv1[0], 3000U * sizeof(real_T));
  memset(&rtDW.Hw[3000], 0, 6960U * sizeof(real_T));
  kron_mrguWHGo(d, e, rtDW.dv0);
  memset(&rtDW.Hu[0], 0, 3000U * sizeof(real_T));
  memcpy(&rtDW.Hu[3000], &rtDW.dv0[0], 900U * sizeof(real_T));
  memset(&rtDW.Hu[3900], 0, 6060U * sizeof(real_T));
  eye_bAKT5eRN(rtDW.Hv_tmp);
  memset(&rtDW.Hv[0], 0, 13200U * sizeof(real_T));
  for (i_0 = 0; i_0 < 10000; i_0++) {
    rtDW.Hv[i_0 + 13200] = rtDW.Hv_tmp[i_0];
    rtDW.Hv[i_0 + 23200] = 0.0;
  }

  memset(&rtDW.Hev[0], 0, 23200U * sizeof(real_T));
  memcpy(&rtDW.Hev[23200], &rtDW.Hv_tmp[0], 10000U * sizeof(real_T));
  memset(&c[0], 0, 130U * sizeof(real_T));
  c[130] = 1.0;
  c[131] = 0.0;
  for (i_0 = 0; i_0 < 100; i_0++) {
    c[i_0 + 132] = 0.0;
    c[i_0 + 232] = w_v;
  }

  for (i_0 = 0; i_0 < 332; i_0++) {
    for (i_1 = 0; i_1 < 10; i_1++) {
      A[i_1 + 117 * i_0] = f[10 * i_0 + i_1];
    }
  }

  for (i_0 = 0; i_0 < 100; i_0++) {
    for (i_1 = 0; i_1 < 100; i_1++) {
      A_tmp = 100 * i_0 + i_1;
      A[(i_1 + 117 * i_0) + 10] = EH[A_tmp] - rtDW.Hv_tmp[A_tmp];
    }
  }

  for (i_0 = 0; i_0 < 30; i_0++) {
    memcpy(&A[i_0 * 117 + 11710], &BE[i_0 * 100], 100U * sizeof(real_T));
  }

  for (i_0 = 0; i_0 < 100; i_0++) {
    A[i_0 + 15220] = 0.0;
    A[i_0 + 15337] = ES[i_0];
    for (i_1 = 0; i_1 < 100; i_1++) {
      A[(i_1 + 117 * (i_0 + 132)) + 10] = rtDW.Hv_tmp[100 * i_0 + i_1];
      A[(i_1 + 117 * (i_0 + 232)) + 10] = 0.0;
    }
  }

  for (i_0 = 0; i_0 < 332; i_0++) {
    for (i_1 = 0; i_1 < 7; i_1++) {
      A[(i_1 + 117 * i_0) + 110] = g[7 * i_0 + i_1];
    }
  }

  memcpy(&b[0], &xi[0], 10U * sizeof(real_T));
  for (i_0 = 0; i_0 < 100; i_0++) {
    b[i_0 + 10] = -AR[i_0];
  }

  for (i_0 = 0; i_0 < 7; i_0++) {
    b[i_0 + 110] = xf[i_0];
  }

  for (i_0 = 0; i_0 < 332; i_0++) {
    rtDW.Gquad_[92 * i_0] = l[i_0];
    for (i_1 = 0; i_1 < 30; i_1++) {
      rtDW.Gquad_[(i_1 + 92 * i_0) + 1] = -rtDW.Hu[30 * i_0 + i_1];
    }

    rtDW.Gquad_[31 + 92 * i_0] = m[i_0];
    memset(&rtDW.Gquad_[i_0 * 92 + 32], 0, 60U * sizeof(real_T));
  }

  memcpy(&hquad_[0], &i[0], 92U * sizeof(real_T));
  for (A_tmp = 0; A_tmp < 10; A_tmp++) {
    memset(&Hk[0], 0, 3320U * sizeof(int8_T));
    i_0 = 10 * A_tmp;
    for (i_1 = 0; i_1 < 10; i_1++) {
      for (MI_tmp = 0; MI_tmp < 10; MI_tmp++) {
        Hk[MI_tmp + 10 * (i_1 + i_0)] = (int8_T)d[10 * i_1 + MI_tmp];
      }
    }

    for (i_0 = 0; i_0 < 4; i_0++) {
      for (i_1 = 0; i_1 < 10; i_1++) {
        MI_tmp = i_1 << 2;
        MI_tmp_0 = i_0 + MI_tmp;
        MI_0[MI_tmp_0] = 0.0;
        MI_tmp_1 = MI_tmp + i_0;
        MI_0[MI_tmp_0] = MI_0[MI_tmp_1] + (real_T)c_b[MI_tmp] * MI[i_0];
        MI_0[MI_tmp_0] = (real_T)c_b[MI_tmp + 1] * MI[i_0 + 4] + MI_0[MI_tmp_1];
        MI_0[MI_tmp_0] = (real_T)c_b[MI_tmp + 2] * MI[i_0 + 8] + MI_0[MI_tmp_1];
        MI_0[MI_tmp_0] = (real_T)c_b[MI_tmp + 3] * MI[i_0 + 12] + MI_0[MI_tmp_1];
      }

      for (i_1 = 0; i_1 < 332; i_1++) {
        tmp_1 = 0.0;
        for (MI_tmp = 0; MI_tmp < 10; MI_tmp++) {
          tmp_1 += MI_0[(MI_tmp << 2) + i_0] * (real_T)Hk[10 * i_1 + MI_tmp];
        }

        rtDW.MI[i_0 + (i_1 << 2)] = -tmp_1;
      }
    }

    i_0 = 6 * A_tmp;
    for (i_1 = 0; i_1 < 332; i_1++) {
      rtDW.Gquad_[(i_0 + 92 * i_1) + 32] = 0.0;
    }

    for (i_1 = 0; i_1 < 332; i_1++) {
      MI_tmp = i_1 << 2;
      MI_tmp_0 = i_0 + 92 * i_1;
      rtDW.Gquad_[MI_tmp_0 + 33] = rtDW.MI[MI_tmp];
      rtDW.Gquad_[MI_tmp_0 + 34] = rtDW.MI[MI_tmp + 1];
      rtDW.Gquad_[MI_tmp_0 + 35] = rtDW.MI[MI_tmp + 2];
      rtDW.Gquad_[MI_tmp_0 + 36] = rtDW.MI[MI_tmp + 3];
    }

    for (i_1 = 0; i_1 < 332; i_1++) {
      rtDW.Gquad_[(i_0 + 92 * i_1) + 37] = 0.0;
    }

    i_0 = 6 * A_tmp;
    for (i_1 = 0; i_1 < 6; i_1++) {
      hquad_[(i_1 + i_0) + 32] = j[i_1];
    }
  }

  for (i_0 = 0; i_0 < 332; i_0++) {
    memcpy(&rtDW.Gquad__[i_0 * 152], &rtDW.Gquad_[i_0 * 92], 92U * sizeof(real_T));
    memset(&rtDW.Gquad__[i_0 * 152 + 92], 0, 60U * sizeof(real_T));
  }

  memcpy(&hquad__[0], &hquad_[0], 92U * sizeof(real_T));
  memset(&hquad__[92], 0, 60U * sizeof(real_T));
  for (A_tmp = 0; A_tmp < 10; A_tmp++) {
    memset(&Hk[0], 0, 3320U * sizeof(int8_T));
    i_0 = 10 * A_tmp;
    for (i_1 = 0; i_1 < 10; i_1++) {
      for (MI_tmp = 0; MI_tmp < 10; MI_tmp++) {
        Hk[MI_tmp + 10 * (i_1 + i_0)] = (int8_T)d[10 * i_1 + MI_tmp];
      }
    }

    for (i_0 = 0; i_0 < 4; i_0++) {
      for (i_1 = 0; i_1 < 10; i_1++) {
        MI_tmp = i_1 << 2;
        MI_tmp_0 = i_0 + MI_tmp;
        MI_0[MI_tmp_0] = 0.0;
        MI_tmp_1 = MI_tmp + i_0;
        MI_0[MI_tmp_0] = MI_0[MI_tmp_1] + (real_T)c_b[MI_tmp] * ME[i_0];
        MI_0[MI_tmp_0] = (real_T)c_b[MI_tmp + 1] * ME[i_0 + 4] + MI_0[MI_tmp_1];
        MI_0[MI_tmp_0] = (real_T)c_b[MI_tmp + 2] * ME[i_0 + 8] + MI_0[MI_tmp_1];
        MI_0[MI_tmp_0] = (real_T)c_b[MI_tmp + 3] * ME[i_0 + 12] + MI_0[MI_tmp_1];
      }

      for (i_1 = 0; i_1 < 332; i_1++) {
        tmp_1 = 0.0;
        for (MI_tmp = 0; MI_tmp < 10; MI_tmp++) {
          tmp_1 += MI_0[(MI_tmp << 2) + i_0] * (real_T)Hk[10 * i_1 + MI_tmp];
        }

        rtDW.MI[i_0 + (i_1 << 2)] = -tmp_1;
      }
    }

    i_0 = 6 * A_tmp;
    for (i_1 = 0; i_1 < 332; i_1++) {
      rtDW.Gquad__[(i_0 + 152 * i_1) + 32] = 0.0;
    }

    for (i_1 = 0; i_1 < 332; i_1++) {
      MI_tmp = i_1 << 2;
      MI_tmp_0 = i_0 + 152 * i_1;
      rtDW.Gquad__[MI_tmp_0 + 33] = rtDW.MI[MI_tmp];
      rtDW.Gquad__[MI_tmp_0 + 34] = rtDW.MI[MI_tmp + 1];
      rtDW.Gquad__[MI_tmp_0 + 35] = rtDW.MI[MI_tmp + 2];
      rtDW.Gquad__[MI_tmp_0 + 36] = rtDW.MI[MI_tmp + 3];
    }

    for (i_1 = 0; i_1 < 332; i_1++) {
      rtDW.Gquad__[(i_0 + 152 * i_1) + 37] = 0.0;
    }

    i_0 = 6 * A_tmp;
    for (i_1 = 0; i_1 < 6; i_1++) {
      hquad__[(i_1 + i_0) + 32] = j[i_1];
    }
  }

  for (i_0 = 0; i_0 < 332; i_0++) {
    for (i_1 = 0; i_1 < 30; i_1++) {
      MI_tmp = 30 * i_0 + i_1;
      A_tmp = i_1 + 474 * i_0;
      G[A_tmp] = rtDW.Hw[MI_tmp];
      G[A_tmp + 30] = -rtDW.Hw[MI_tmp];
      G[A_tmp + 60] = rtDW.Hu[MI_tmp];
      G[A_tmp + 90] = -rtDW.Hu[MI_tmp];
    }

    G[120 + 474 * i_0] = Hs[i_0];
    G[121 + 474 * i_0] = n[i_0];
    for (i_1 = 0; i_1 < 100; i_1++) {
      MI_tmp = 100 * i_0 + i_1;
      A_tmp = i_1 + 474 * i_0;
      G[A_tmp + 122] = rtDW.Hv[MI_tmp] - rtDW.Hev[MI_tmp];
      G[A_tmp + 222] = -rtDW.Hv[MI_tmp] - rtDW.Hev[MI_tmp];
    }

    memcpy(&G[i_0 * 474 + 322], &rtDW.Gquad__[i_0 * 152], 152U * sizeof(real_T));
  }

  for (i_0 = 0; i_0 < 30; i_0++) {
    h[i_0] = b_w_max[i_0];
    h[i_0 + 30] = b_w_max[i_0];
    h[i_0 + 60] = u_max[i_0];
    h[i_0 + 90] = u_max[i_0];
  }

  h[120] = s_max;
  h[121] = -s_min;
  for (i_0 = 0; i_0 < 100; i_0++) {
    h[i_0 + 122] = 0.0;
    h[i_0 + 222] = 0.0;
  }

  memcpy(&h[322], &hquad__[0], 152U * sizeof(real_T));
}

/* System initialize for atomic system: '<S1>/target_generation_lib' */
void target_generation_lib_Init(void)
{
  /* InitializeConditions for Delay: '<S411>/Resettable Delay' */
  rtDW.icLoad = 1U;

  /* InitializeConditions for S-Function (sdspcount2): '<S369>/Counter' */
  rtDW.Counter_ClkEphState = 5U;

  /* SystemInitialize for Merge: '<S364>/Merge' */
  rtDW.Merge_n[0] = 1.0;
  rtDW.Merge_n[1] = 0.0;
  rtDW.Merge_n[2] = 0.0;
  rtDW.Merge_n[3] = 0.0;

  /* SystemInitialize for Triggered SubSystem: '<S369>/soar_lib' */
  rtPrevZCX.soar_lib_Trig_ZCE = ZERO_ZCSIG;

  /* End of SystemInitialize for SubSystem: '<S369>/soar_lib' */
}

/* Output and update for atomic system: '<S1>/target_generation_lib' */
void target_generation_lib(uint8_T rtu_gnc_mode, const real_T
  rtu_sc2sun_eci_unit[3], const real_T rtu_sc2targ_eci_unit[3], const real_T
  rtu_r_eci_m[3], const real_T rtu_sc_quat_in[4], const real_T
  rtu_body_rates_radps[3], const real_T rtu_RWA_rpm[4], const real_T
  rtu_quat_soar_cmd[4], real_T rtu_MET_epoch, real_T rtu_MET_utc_s, real_T
  rty_quat_cmd[4], real_T rty_body_rates_cmd[3], real_T rty_torque_body_ff[3],
  uint8_T *rty_target_gen_flag, real_T rty_soar_telemetry[100], real_T
  rty_soar_telemetry_f[30], real_T *rty_soar_telemetry_g, real_T
  rty_soar_telemetry_a[17], real_T rty_soar_telemetry_c[15], uint32_T
  *rty_soar_telemetry_d)
{
  real_T coff;
  real_T k1[10];
  real_T k2[10];
  real_T k3[10];
  real_T k4[10];
  real_T xtmp;
  int32_T n;
  static const real_T J[9] = { 0.0118206435013, 0.00043170726620000006,
    -7.3061275000000005E-6, 0.00043170726620000006, 0.0116363514485,
    -9.29219316E-5, -7.3061275000000005E-6, -9.29219316E-5, 0.0060345844268 };

  real_T Mi[16];
  real_T De[16];
  real_T Di[16];
  real_T qb[40];
  int8_T flag;
  real_T t;
  static const real_T c_y[16] = { 0.50000000000000011, 0.0, 0.0, 0.0, 0.0,
    0.50000000000000011, 0.0, 0.0, 0.0, 0.0, 0.50000000000000011, 0.0, 0.0, 0.0,
    0.0, 0.50000000000000011 };

  static const int8_T b[3] = { 0, 1, 0 };

  static const int8_T b_b[3] = { 0, 0, -1 };

  static const int8_T d_b[9] = { 1, 0, 0, 0, 1, 0, 0, 0, 1 };

  static const int8_T d_y[16] = { 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 2
  };

  static const real_T e_y[16] = { 0.64278760968653936, 0.0, 0.0, 0.0, 0.0,
    0.64278760968653936, 0.0, 0.0, 0.0, 0.0, 0.64278760968653936, 0.0, 0.0, 0.0,
    0.0, 0.64278760968653936 };

  real_T exitcode[17];
  real_T xi[10];
  real_T xf[7];
  real_T y[334];
  real_T diff;
  real_T ES[100];
  real_T AR[100];
  real_T c[332];
  real_T h[474];
  real_T b_0[117];
  int32_T Ajc[333];
  int32_T Gir[834];
  int32_T Gjc[333];
  static const int8_T d[21] = { 32, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
    6, 6, 6, 6, 6 };

  real_T rtb_Switch_pv[4];
  real_T rtb_Product1[3];
  real_T rtb_Gain[3];
  real_T rtb_MathFunction[3];
  real_T rtb_Sum;
  real_T rtb_Add;
  real_T rtb_Reshape[4];
  boolean_T rtb_Compare_g;
  boolean_T rtb_FixPtRelationalOperator;
  uint8_T rtb_Sum_oq;
  real_T rtb_x_opt_t[10];
  real_T rtb_C_cmd[9];
  real_T rtb_J[9];
  real_T rtb_ME[16];
  real_T rtb_MI[16];
  static const real_T tmp[9] = { 0.0118206435013, 0.00043170726620000006,
    -7.3061275000000005E-6, 0.00043170726620000006, 0.0116363514485,
    -9.29219316E-5, -7.3061275000000005E-6, -9.29219316E-5, 0.0060345844268 };

  real_T rtb_x_opt_t_0[10];
  int32_T d_0[21];
  real_T d_y_0[16];
  real_T rtu_sc2sun_eci_unit_0[3];
  real_T e[3];
  real_T rtb_Gain_0[3];
  real_T tmp_0[9];
  real_T tmp_1[9];
  real_T rtu_sc2sun_eci_unit_1[9];
  real_T b_b_0[9];
  real_T Mi_0[16];
  boolean_T rtb_Sum_m;
  int32_T i;
  int32_T rtu_sc2sun_eci_unit_tmp;
  int32_T rtb_MI_tmp;
  int32_T rtb_MI_tmp_0;
  real_T *V;
  boolean_T exitg1;
  int32_T exitg2;

  /* Product: '<S365>/Product' */
  rtb_Switch_pv[0] = 2.9526E-5 * rtu_RWA_rpm[0];
  rtb_Switch_pv[1] = 2.9526E-5 * rtu_RWA_rpm[1];
  rtb_Switch_pv[2] = 2.9526E-5 * rtu_RWA_rpm[2];
  rtb_Switch_pv[3] = 2.9526E-5 * rtu_RWA_rpm[3];
  for (i = 0; i < 3; i++) {
    /* Product: '<S365>/Product1' incorporates:
     *  Constant: '<S365>/A_wheel2body'
     */
    rtb_Add = rtCP_A_wheel2body_Value[i + 9] * rtb_Switch_pv[3] +
      (rtCP_A_wheel2body_Value[i + 6] * rtb_Switch_pv[2] +
       (rtCP_A_wheel2body_Value[i + 3] * rtb_Switch_pv[1] +
        rtCP_A_wheel2body_Value[i] * rtb_Switch_pv[0]));

    /* Math: '<S366>/Math Function' incorporates:
     *  Gain: '<S10>/Gain'
     */
    rtb_MathFunction[i] = -rtu_r_eci_m[i] * -rtu_r_eci_m[i];

    /* Gain: '<S10>/Gain' */
    rtb_Gain[i] = -rtu_r_eci_m[i];

    /* Product: '<S365>/Product1' incorporates:
     *  Constant: '<S365>/A_wheel2body'
     */
    rtb_Product1[i] = rtb_Add;
  }

  /* Sum: '<S366>/Sum of Elements' */
  rtb_Sum = (rtb_MathFunction[0] + rtb_MathFunction[1]) + rtb_MathFunction[2];

  /* Math: '<S366>/Math Function1'
   *
   * About '<S366>/Math Function1':
   *  Operator: sqrt
   */
  if (rtb_Sum < 0.0) {
    rtb_Sum = -sqrt(fabs(rtb_Sum));
  } else {
    rtb_Sum = sqrt(rtb_Sum);
  }

  /* End of Math: '<S366>/Math Function1' */

  /* Switch: '<S366>/Switch' incorporates:
   *  Constant: '<S366>/Constant'
   *  Product: '<S366>/Product'
   */
  if (rtb_Sum > 0.0) {
    rtb_Switch_pv[0] = rtb_Gain[0];
    rtb_Switch_pv[1] = rtb_Gain[1];
    rtb_Switch_pv[2] = rtb_Gain[2];
    rtb_Switch_pv[3] = rtb_Sum;
  } else {
    rtb_Switch_pv[0] = rtb_Gain[0] * 0.0;
    rtb_Switch_pv[1] = rtb_Gain[1] * 0.0;
    rtb_Switch_pv[2] = rtb_Gain[2] * 0.0;
    rtb_Switch_pv[3] = 1.0;
  }

  /* End of Switch: '<S366>/Switch' */

  /* MATLAB Function: '<S10>/target_gen' */
  *rty_target_gen_flag = 0U;
  rtb_C_cmd[0] = 0.766044443118978;
  rtb_C_cmd[3] = 0.64278760968653925;
  rtb_C_cmd[6] = 0.0;
  rtb_C_cmd[1] = -0.64278760968653925;
  rtb_C_cmd[4] = 0.766044443118978;
  rtb_C_cmd[7] = 0.0;

  /* Product: '<S366>/Divide' */
  rtb_Gain[0] = rtb_Switch_pv[0] / rtb_Switch_pv[3];

  /* MATLAB Function: '<S10>/target_gen' */
  rtb_C_cmd[2] = 0.0;

  /* Product: '<S366>/Divide' */
  rtb_Gain[1] = rtb_Switch_pv[1] / rtb_Switch_pv[3];

  /* MATLAB Function: '<S10>/target_gen' */
  rtb_C_cmd[5] = 0.0;

  /* Product: '<S366>/Divide' */
  rtb_Gain[2] = rtb_Switch_pv[2] / rtb_Switch_pv[3];

  /* MATLAB Function: '<S10>/target_gen' */
  rtb_C_cmd[8] = 1.0;
  for (i = 0; i < 3; i++) {
    rtb_MathFunction[i] = rtb_C_cmd[i + 3] + rtb_C_cmd[i] * 0.0;
  }

  if (norm_2e9Xj4lM(rtu_sc2sun_eci_unit) < 0.001) {
    memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
    rtb_C_cmd[0] = 1.0;
    rtb_C_cmd[4] = 1.0;
    rtb_C_cmd[8] = 1.0;
    *rty_target_gen_flag = 1U;
  } else if (norm_2e9Xj4lM(rtu_sc2targ_eci_unit) < 0.001) {
    memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
    rtb_C_cmd[0] = 1.0;
    rtb_C_cmd[4] = 1.0;
    rtb_C_cmd[8] = 1.0;
    *rty_target_gen_flag = 2U;
  } else if (norm_2e9Xj4lM(rtb_Gain) < 0.001) {
    memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
    rtb_C_cmd[0] = 1.0;
    rtb_C_cmd[4] = 1.0;
    rtb_C_cmd[8] = 1.0;
    *rty_target_gen_flag = 3U;
  } else if ((rtu_gnc_mode == 7) || (rtu_gnc_mode == 8)) {
    if (fabs((rtu_sc2sun_eci_unit[0] * rtu_sc2targ_eci_unit[0] +
              rtu_sc2sun_eci_unit[1] * rtu_sc2targ_eci_unit[1]) +
             rtu_sc2sun_eci_unit[2] * rtu_sc2targ_eci_unit[2]) > 0.999) {
      memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
      rtb_C_cmd[0] = 1.0;
      rtb_C_cmd[4] = 1.0;
      rtb_C_cmd[8] = 1.0;
      *rty_target_gen_flag = 4U;
    } else {
      rtu_sc2sun_eci_unit_0[0] = rtu_sc2sun_eci_unit[0];
      e[0] = 0.0;
      rtb_Gain_0[0] = rtb_Gain[0];
      rtu_sc2sun_eci_unit_0[1] = rtu_sc2sun_eci_unit[1];
      e[1] = 0.0;
      rtb_Gain_0[1] = rtb_Gain[1];
      rtu_sc2sun_eci_unit_0[2] = rtu_sc2sun_eci_unit[2];
      e[2] = -1.0;
      rtb_Gain_0[2] = rtb_Gain[2];
      align_vecs_GEQPakmX(rtb_MathFunction, rtu_sc2sun_eci_unit_0, e, rtb_Gain_0,
                          rtb_C_cmd);
    }
  } else if ((rtu_gnc_mode == 4) || (rtu_gnc_mode == 5) || (rtu_gnc_mode == 6))
  {
    if (fabs((rtb_Gain[0] * rtu_sc2sun_eci_unit[0] + rtb_Gain[1] *
              rtu_sc2sun_eci_unit[1]) + rtb_Gain[2] * rtu_sc2sun_eci_unit[2]) >
        0.999) {
      memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
      rtb_C_cmd[0] = 1.0;
      rtb_C_cmd[4] = 1.0;
      rtb_C_cmd[8] = 1.0;
      *rty_target_gen_flag = 5U;
    } else {
      rtu_sc2sun_eci_unit_0[0] = rtu_sc2sun_eci_unit[0];
      e[0] = 0.0;
      rtb_Gain_0[0] = rtb_Gain[0];
      rtu_sc2sun_eci_unit_0[1] = rtu_sc2sun_eci_unit[1];
      e[1] = 0.0;
      rtb_Gain_0[1] = rtb_Gain[1];
      rtu_sc2sun_eci_unit_0[2] = rtu_sc2sun_eci_unit[2];
      e[2] = 1.0;
      rtb_Gain_0[2] = rtb_Gain[2];
      align_vecs_GEQPakmX(rtb_MathFunction, rtu_sc2sun_eci_unit_0, e, rtb_Gain_0,
                          rtb_C_cmd);
    }
  } else {
    memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
    rtb_C_cmd[0] = 1.0;
    rtb_C_cmd[4] = 1.0;
    rtb_C_cmd[8] = 1.0;
  }

  /* Sum: '<S374>/Add' */
  rtb_Add = (rtb_C_cmd[0] + rtb_C_cmd[4]) + rtb_C_cmd[8];

  /* If: '<S364>/If' */
  if (rtb_Add > 0.0) {
    /* Outputs for IfAction SubSystem: '<S364>/Positive Trace' incorporates:
     *  ActionPort: '<S372>/Action Port'
     */
    PositiveTrace(rtb_Add, rtb_C_cmd, &rtDW.Merge_n[0], &rtDW.Merge_n[1]);

    /* End of Outputs for SubSystem: '<S364>/Positive Trace' */
  } else {
    /* Outputs for IfAction SubSystem: '<S364>/Negative Trace' incorporates:
     *  ActionPort: '<S371>/Action Port'
     */
    NegativeTrace(rtb_C_cmd, rtDW.Merge_n);

    /* End of Outputs for SubSystem: '<S364>/Negative Trace' */
  }

  /* End of If: '<S364>/If' */

  /* Reshape: '<S10>/Reshape' incorporates:
   *  Math: '<S10>/Transpose'
   */
  rtb_Reshape[0] = rtDW.Merge_n[0];

  /* Math: '<S10>/Transpose' */
  rtb_Switch_pv[0] = rtDW.Merge_n[0];

  /* Reshape: '<S10>/Reshape' incorporates:
   *  Math: '<S10>/Transpose'
   */
  rtb_Reshape[1] = rtDW.Merge_n[1];

  /* Math: '<S10>/Transpose' */
  rtb_Switch_pv[1] = rtDW.Merge_n[1];

  /* Reshape: '<S10>/Reshape' incorporates:
   *  Math: '<S10>/Transpose'
   */
  rtb_Reshape[2] = rtDW.Merge_n[2];

  /* Math: '<S10>/Transpose' */
  rtb_Switch_pv[2] = rtDW.Merge_n[2];

  /* Reshape: '<S10>/Reshape' incorporates:
   *  Math: '<S10>/Transpose'
   */
  rtb_Reshape[3] = rtDW.Merge_n[3];

  /* Math: '<S10>/Transpose' */
  rtb_Switch_pv[3] = rtDW.Merge_n[3];

  /* Outputs for Atomic SubSystem: '<S10>/quat_rectify_lib' */
  quat_rectify_lib(rtb_Reshape, rtb_Switch_pv);

  /* End of Outputs for SubSystem: '<S10>/quat_rectify_lib' */

  /* Switch: '<S10>/Switch' */
  if (rtu_MET_epoch != 0.0) {
    rtb_Reshape[0] = rtu_quat_soar_cmd[0];
    rtb_Reshape[1] = rtu_quat_soar_cmd[1];
    rtb_Reshape[2] = rtu_quat_soar_cmd[2];
    rtb_Reshape[3] = rtu_quat_soar_cmd[3];
  } else {
    rtb_Reshape[0] = rtb_Switch_pv[0];
    rtb_Reshape[1] = rtb_Switch_pv[1];
    rtb_Reshape[2] = rtb_Switch_pv[2];
    rtb_Reshape[3] = rtb_Switch_pv[3];
  }

  /* End of Switch: '<S10>/Switch' */

  /* RelationalOperator: '<S413>/Compare' incorporates:
   *  Constant: '<S409>/Constant'
   *  Constant: '<S413>/Constant'
   *  RelationalOperator: '<S409>/Compare'
   */
  rtb_Compare_g = (rtu_gnc_mode == 8);

  /* RelationalOperator: '<S410>/FixPt Relational Operator' incorporates:
   *  UnitDelay: '<S410>/Delay Input1'
   *
   * Block description for '<S410>/Delay Input1':
   *
   *  Store in Global RAM
   */
  rtb_FixPtRelationalOperator = ((int32_T)rtb_Compare_g > (int32_T)
    rtDW.DelayInput1_DSTATE);

  /* Outputs for Triggered SubSystem: '<S369>/soar_lib' incorporates:
   *  TriggerPort: '<S412>/Trigger'
   */
  if (rtb_FixPtRelationalOperator && (rtPrevZCX.soar_lib_Trig_ZCE != POS_ZCSIG))
  {
    /* MATLAB Function: '<S412>/INITIALIZE' */
    memcpy(&rtb_J[0], &tmp[0], 9U * sizeof(real_T));
    rtb_Add = (rtu_sc2sun_eci_unit[0] * 0.0 + rtu_sc2sun_eci_unit[1] * 0.0) +
      -rtu_sc2sun_eci_unit[2];
    rtb_Sum = (rtu_sc2sun_eci_unit[0] * 0.0 + rtu_sc2sun_eci_unit[1]) +
      rtu_sc2sun_eci_unit[2] * 0.0;
    tmp_0[0] = 0.0;
    tmp_0[3] = -rtu_sc2sun_eci_unit[2];
    tmp_0[6] = rtu_sc2sun_eci_unit[1];
    tmp_0[1] = rtu_sc2sun_eci_unit[2];
    tmp_0[4] = 0.0;
    tmp_0[7] = -rtu_sc2sun_eci_unit[0];
    tmp_0[2] = -rtu_sc2sun_eci_unit[1];
    tmp_0[5] = rtu_sc2sun_eci_unit[0];
    tmp_0[8] = 0.0;
    tmp_1[0] = 0.0;
    tmp_1[3] = -rtu_sc2sun_eci_unit[2];
    tmp_1[6] = rtu_sc2sun_eci_unit[1];
    tmp_1[1] = rtu_sc2sun_eci_unit[2];
    tmp_1[4] = 0.0;
    tmp_1[7] = -rtu_sc2sun_eci_unit[0];
    tmp_1[2] = -rtu_sc2sun_eci_unit[1];
    tmp_1[5] = rtu_sc2sun_eci_unit[0];
    tmp_1[8] = 0.0;
    rtb_MI[0] = rtb_Add;
    for (i = 0; i < 3; i++) {
      rtu_sc2sun_eci_unit_1[i] = rtu_sc2sun_eci_unit[i] * 0.0;
      b_b_0[i] = (real_T)b_b[i] * rtu_sc2sun_eci_unit[0];
      rtu_sc2sun_eci_unit_1[i + 3] = rtu_sc2sun_eci_unit[i] * 0.0;
      b_b_0[i + 3] = (real_T)b_b[i] * rtu_sc2sun_eci_unit[1];
      rtu_sc2sun_eci_unit_1[i + 6] = -rtu_sc2sun_eci_unit[i];
      b_b_0[i + 6] = (real_T)b_b[i] * rtu_sc2sun_eci_unit[2];
      rtb_MI[(i + 1) << 2] = -tmp_0[i + 6] + (tmp_0[i + 3] * 0.0 + tmp_0[i] *
        0.0);
      rtb_MI[i + 1] = -tmp_1[i + 6] + (tmp_1[i + 3] * 0.0 + tmp_1[i] * 0.0);
    }

    for (i = 0; i < 3; i++) {
      n = (i + 1) << 2;
      rtb_MI[1 + n] = (rtu_sc2sun_eci_unit_1[3 * i] + b_b_0[3 * i]) - (real_T)
        d_b[3 * i] * rtb_Add;
      rtu_sc2sun_eci_unit_tmp = 3 * i + 1;
      rtb_MI[2 + n] = (rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp] +
                       b_b_0[rtu_sc2sun_eci_unit_tmp]) - (real_T)
        d_b[rtu_sc2sun_eci_unit_tmp] * rtb_Add;
      rtu_sc2sun_eci_unit_tmp = 3 * i + 2;
      rtb_MI[3 + n] = (rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp] +
                       b_b_0[rtu_sc2sun_eci_unit_tmp]) - (real_T)
        d_b[rtu_sc2sun_eci_unit_tmp] * rtb_Add;
    }

    for (i = 0; i < 16; i++) {
      Mi[i] = (rtb_MI[i] - e_y[i]) + (real_T)d_y[i];
    }

    schur_hD1lAh31(Mi, rtb_MI, De);
    tmp_0[0] = 0.0;
    tmp_0[3] = -rtu_sc2sun_eci_unit[2];
    tmp_0[6] = rtu_sc2sun_eci_unit[1];
    tmp_0[1] = rtu_sc2sun_eci_unit[2];
    tmp_0[4] = 0.0;
    tmp_0[7] = -rtu_sc2sun_eci_unit[0];
    tmp_0[2] = -rtu_sc2sun_eci_unit[1];
    tmp_0[5] = rtu_sc2sun_eci_unit[0];
    tmp_0[8] = 0.0;
    tmp_1[0] = 0.0;
    tmp_1[3] = -rtu_sc2sun_eci_unit[2];
    tmp_1[6] = rtu_sc2sun_eci_unit[1];
    tmp_1[1] = rtu_sc2sun_eci_unit[2];
    tmp_1[4] = 0.0;
    tmp_1[7] = -rtu_sc2sun_eci_unit[0];
    tmp_1[2] = -rtu_sc2sun_eci_unit[1];
    tmp_1[5] = rtu_sc2sun_eci_unit[0];
    tmp_1[8] = 0.0;
    Mi[0] = rtb_Sum;
    for (i = 0; i < 3; i++) {
      rtu_sc2sun_eci_unit_1[i] = rtu_sc2sun_eci_unit[i] * 0.0;
      b_b_0[i] = (real_T)b[i] * rtu_sc2sun_eci_unit[0];
      rtu_sc2sun_eci_unit_1[i + 3] = rtu_sc2sun_eci_unit[i];
      b_b_0[i + 3] = (real_T)b[i] * rtu_sc2sun_eci_unit[1];
      rtu_sc2sun_eci_unit_1[i + 6] = rtu_sc2sun_eci_unit[i] * 0.0;
      b_b_0[i + 6] = (real_T)b[i] * rtu_sc2sun_eci_unit[2];
      Mi[(i + 1) << 2] = tmp_0[i + 6] * 0.0 + (tmp_0[i + 3] + tmp_0[i] * 0.0);
      Mi[i + 1] = tmp_1[i + 6] * 0.0 + (tmp_1[i + 3] + tmp_1[i] * 0.0);
    }

    for (i = 0; i < 3; i++) {
      n = (i + 1) << 2;
      Mi[1 + n] = (rtu_sc2sun_eci_unit_1[3 * i] + b_b_0[3 * i]) - (real_T)d_b[3 *
        i] * rtb_Sum;
      rtu_sc2sun_eci_unit_tmp = 3 * i + 1;
      Mi[2 + n] = (rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp] +
                   b_b_0[rtu_sc2sun_eci_unit_tmp]) - (real_T)
        d_b[rtu_sc2sun_eci_unit_tmp] * rtb_Sum;
      rtu_sc2sun_eci_unit_tmp = 3 * i + 2;
      Mi[3 + n] = (rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp] +
                   b_b_0[rtu_sc2sun_eci_unit_tmp]) - (real_T)
        d_b[rtu_sc2sun_eci_unit_tmp] * rtb_Sum;
    }

    for (i = 0; i < 16; i++) {
      d_y_0[i] = (real_T)d_y[i] - (Mi[i] - c_y[i]);
    }

    schur_hD1lAh31(d_y_0, Mi, Di);
    De[0] = sqrt(De[0]);
    Di[0] = sqrt(Di[0]);
    De[5] = sqrt(De[5]);
    Di[5] = sqrt(Di[5]);
    De[10] = sqrt(De[10]);
    Di[10] = sqrt(Di[10]);
    De[15] = sqrt(De[15]);
    Di[15] = sqrt(Di[15]);
    for (i = 0; i < 4; i++) {
      for (n = 0; n < 4; n++) {
        rtu_sc2sun_eci_unit_tmp = n << 2;
        rtb_MI_tmp = i + rtu_sc2sun_eci_unit_tmp;
        d_y_0[rtb_MI_tmp] = 0.0;
        rtb_MI_tmp_0 = rtu_sc2sun_eci_unit_tmp + i;
        d_y_0[rtb_MI_tmp] = d_y_0[rtb_MI_tmp_0] + De[rtu_sc2sun_eci_unit_tmp] *
          rtb_MI[i];
        d_y_0[rtb_MI_tmp] = De[rtu_sc2sun_eci_unit_tmp + 1] * rtb_MI[i + 4] +
          d_y_0[rtb_MI_tmp_0];
        d_y_0[rtb_MI_tmp] = De[rtu_sc2sun_eci_unit_tmp + 2] * rtb_MI[i + 8] +
          d_y_0[rtb_MI_tmp_0];
        d_y_0[rtb_MI_tmp] = De[rtu_sc2sun_eci_unit_tmp + 3] * rtb_MI[i + 12] +
          d_y_0[rtb_MI_tmp_0];
      }

      for (n = 0; n < 4; n++) {
        rtu_sc2sun_eci_unit_tmp = n << 2;
        rtb_MI_tmp = i + rtu_sc2sun_eci_unit_tmp;
        rtb_ME[rtb_MI_tmp] = 0.0;
        Mi_0[rtb_MI_tmp] = 0.0;
        rtb_MI_tmp_0 = rtu_sc2sun_eci_unit_tmp + i;
        rtb_ME[rtb_MI_tmp] = rtb_ME[rtb_MI_tmp_0] + d_y_0[i] * rtb_MI[n];
        Mi_0[rtb_MI_tmp] = Mi_0[rtb_MI_tmp_0] + Di[rtu_sc2sun_eci_unit_tmp] *
          Mi[i];
        rtb_ME[rtb_MI_tmp] = rtb_ME[rtb_MI_tmp_0] + d_y_0[i + 4] * rtb_MI[n + 4];
        Mi_0[rtb_MI_tmp] = Di[rtu_sc2sun_eci_unit_tmp + 1] * Mi[i + 4] +
          Mi_0[rtb_MI_tmp_0];
        rtb_ME[rtb_MI_tmp] = rtb_ME[rtb_MI_tmp_0] + d_y_0[i + 8] * rtb_MI[n + 8];
        Mi_0[rtb_MI_tmp] = Di[rtu_sc2sun_eci_unit_tmp + 2] * Mi[i + 8] +
          Mi_0[rtb_MI_tmp_0];
        rtb_ME[rtb_MI_tmp] = rtb_ME[rtb_MI_tmp_0] + d_y_0[i + 12] * rtb_MI[n +
          12];
        Mi_0[rtb_MI_tmp] = Di[rtu_sc2sun_eci_unit_tmp + 3] * Mi[i + 12] +
          Mi_0[rtb_MI_tmp_0];
      }
    }

    for (i = 0; i < 4; i++) {
      for (n = 0; n < 4; n++) {
        rtu_sc2sun_eci_unit_tmp = n << 2;
        rtb_MI_tmp = i + rtu_sc2sun_eci_unit_tmp;
        rtb_MI[rtb_MI_tmp] = 0.0;
        rtu_sc2sun_eci_unit_tmp += i;
        rtb_MI[rtb_MI_tmp] = rtb_MI[rtu_sc2sun_eci_unit_tmp] + Mi_0[i] * Mi[n];
        rtb_MI[rtb_MI_tmp] = rtb_MI[rtu_sc2sun_eci_unit_tmp] + Mi_0[i + 4] *
          Mi[n + 4];
        rtb_MI[rtb_MI_tmp] = rtb_MI[rtu_sc2sun_eci_unit_tmp] + Mi_0[i + 8] *
          Mi[n + 8];
        rtb_MI[rtb_MI_tmp] = rtb_MI[rtu_sc2sun_eci_unit_tmp] + Mi_0[i + 12] *
          Mi[n + 12];
      }
    }

    memset(&rtDW.X_f[0], 0, 100U * sizeof(real_T));
    memset(&rtDW.U[0], 0, 30U * sizeof(real_T));
    rtDW.s = 25.0;
    flag = 0;
    rtb_Add = ((rtu_sc_quat_in[0] * rtb_Reshape[0] + rtu_sc_quat_in[1] *
                rtb_Reshape[1]) + rtu_sc_quat_in[2] * rtb_Reshape[2]) +
      rtu_sc_quat_in[3] * rtb_Reshape[3];
    if (1.0 - rtb_Add < 0.0) {
      rtb_Add = 0.0;
    } else {
      rtb_Add = acos(rtb_Add);
    }

    if (rtb_Add > 3.1415926535897931) {
      flag = 2;
      for (n = 0; n < 10; n++) {
        i = n << 2;
        qb[i] = 1.0;
        qb[i + 1] = 0.0;
        qb[i + 2] = 0.0;
        qb[i + 3] = 0.0;
      }
    } else {
      rtb_Sum = sin(rtb_Add);
      if (rtb_Sum < 1.0E-8) {
        for (n = 0; n < 10; n++) {
          i = n << 2;
          qb[i] = rtu_sc_quat_in[0];
          qb[i + 1] = rtu_sc_quat_in[1];
          qb[i + 2] = rtu_sc_quat_in[2];
          qb[i + 3] = rtu_sc_quat_in[3];
        }
      } else {
        for (n = 0; n < 10; n++) {
          t = ((1.0 + (real_T)n) - 1.0) / 9.0;
          coff = sin((1.0 - t) * rtb_Add);
          t = sin(t * rtb_Add);
          coff /= rtb_Sum;
          t /= rtb_Sum;
          i = n << 2;
          qb[i] = coff * rtu_sc_quat_in[0] + t * rtb_Reshape[0];
          qb[1 + i] = coff * rtu_sc_quat_in[1] + t * rtb_Reshape[1];
          qb[2 + i] = coff * rtu_sc_quat_in[2] + t * rtb_Reshape[2];
          qb[3 + i] = coff * rtu_sc_quat_in[3] + t * rtb_Reshape[3];
        }
      }
    }

    if (flag == 0) {
      for (n = 0; n < 10; n++) {
        rtb_Add = 0.1111111111111111 * (real_T)n;
        if (rtb_Add == 0.0) {
          rtb_Gain[0] = rtu_body_rates_radps[0];
          rtb_Gain[1] = rtu_body_rates_radps[1];
          rtb_Gain[2] = rtu_body_rates_radps[2];
        } else {
          if (rtb_Add == 1.0) {
            rtb_Gain[0] = 0.0;
          } else if (rtu_body_rates_radps[0] == 0.0) {
            rtb_Gain[0] = rtu_body_rates_radps[0];
          } else {
            rtb_Gain[0] = (1.0 - rtb_Add) * rtu_body_rates_radps[0];
          }

          if (rtb_Add == 1.0) {
            rtb_Gain[1] = 0.0;
          } else if (rtu_body_rates_radps[1] == 0.0) {
            rtb_Gain[1] = rtu_body_rates_radps[1];
          } else {
            rtb_Gain[1] = (1.0 - rtb_Add) * rtu_body_rates_radps[1];
          }

          if (rtb_Add == 1.0) {
            rtb_Gain[2] = 0.0;
          } else if (rtu_body_rates_radps[2] == 0.0) {
            rtb_Gain[2] = rtu_body_rates_radps[2];
          } else {
            rtb_Gain[2] = (1.0 - rtb_Add) * rtu_body_rates_radps[2];
          }
        }

        for (i = 0; i < 3; i++) {
          rtb_MathFunction[i] = rtb_J[i + 6] * rtb_Gain[2] + (rtb_J[i + 3] *
            rtb_Gain[1] + rtb_J[i] * rtb_Gain[0]);
        }

        rtDW.X_f[10 * n] = qb[n << 2];
        rtDW.X_f[1 + 10 * n] = qb[(n << 2) + 1];
        rtDW.X_f[2 + 10 * n] = qb[(n << 2) + 2];
        rtDW.X_f[3 + 10 * n] = qb[(n << 2) + 3];
        rtDW.X_f[4 + 10 * n] = rtb_MathFunction[0];
        rtDW.X_f[7 + 10 * n] = rtb_Product1[0];
        rtDW.U[3 * n] = 0.0;
        rtDW.X_f[5 + 10 * n] = rtb_MathFunction[1];
        rtDW.X_f[8 + 10 * n] = rtb_Product1[1];
        rtDW.U[1 + 3 * n] = 0.0;
        rtDW.X_f[6 + 10 * n] = rtb_MathFunction[2];
        rtDW.X_f[9 + 10 * n] = rtb_Product1[2];
        rtDW.U[2 + 3 * n] = 0.0;
      }
    }

    /* End of MATLAB Function: '<S412>/INITIALIZE' */

    /* MATLAB Function: '<S412>/SOLVE' */
    *rty_soar_telemetry_g = rtDW.s;
    for (i = 0; i < 30; i++) {
      rty_soar_telemetry_f[i] = rtDW.U[i];
    }

    for (i = 0; i < 100; i++) {
      rty_soar_telemetry[i] = rtDW.X_f[i];
    }

    rtb_Add = *rty_soar_telemetry_g;
    memset(&exitcode[0], 0, 17U * sizeof(real_T));
    memset(&rty_soar_telemetry_c[0], 0, 15U * sizeof(real_T));
    for (i = 0; i < 10; i++) {
      xi[i] = rty_soar_telemetry[i];
    }

    for (i = 0; i < 7; i++) {
      xf[i] = rty_soar_telemetry[i + 90];
    }

    rtu_sc2sun_eci_unit_tmp = 1;
    n = 0;
    exitg1 = false;
    while ((!exitg1) && (n < 15)) {
      rtu_sc2sun_eci_unit_tmp = n + 1;
      foh_HcncvH72(rty_soar_telemetry, rty_soar_telemetry_f, rtb_Add, rtb_J,
                   rtDW.EH, rtDW.BE, ES, AR);
      parse_ecos_VYvjNTb8_m(xi, xf, rtb_J, rtDW.EH, rtDW.BE, ES, AR, rtb_ME,
                            rtb_MI, 0.0032, 0.1, 25.0, 15.0, 100.0, c, rtDW.G, h,
                            rtDW.A, b_0);
      convert_to_CCS_TWUhmVkC(rtDW.A, rtDW.Air, Ajc, rtDW.Apr);
      convert_to_CCS_uvSSMF4Z(rtDW.G, Gir, Gjc, rtDW.Gpr);
      for (i = 0; i < 21; i++) {
        d_0[i] = d[i];
      }

      run_ecos(332, 474, 117, 322, 21, c, Gjc, Gir, rtDW.Gpr, h, d_0, Ajc,
               rtDW.Air, rtDW.Apr, b_0, y);
      for (i = 0; i < 100; i++) {
        ES[i] = rty_soar_telemetry[i] - y[i];
      }

      diff = norm_ajWdQkav(ES);
      for (i = 0; i < 100; i++) {
        rty_soar_telemetry[i] = y[i];
      }

      for (i = 0; i < 30; i++) {
        rty_soar_telemetry_f[i] = y[100 + i];
      }

      rtb_Add = y[131];
      V = &y[132];
      exitcode[n] = y[332];
      rty_soar_telemetry_c[n] = y[333];
      if (exitcode[n] != 0.0) {
        exitcode[16] = -1.0;
      }

      if ((1 + n > 1) && (norm_UjNDAYVY(&y[132]) < 1.0E-5) && (diff < 0.05)) {
        exitcode[15] = 1.0 + (real_T)n;
        exitg1 = true;
      } else {
        n++;
      }
    }

    if (rtu_sc2sun_eci_unit_tmp == 15) {
      exitcode[15] = 15.0;
      if (exitcode[16] != -1.0) {
        if (norm_UjNDAYVY(V) > 1.0E-5) {
          exitcode[16] = 3.0;
        } else {
          if (diff > 0.05) {
            exitcode[16] = 4.0;
          }
        }
      }
    }

    *rty_soar_telemetry_g = rtb_Add;
    memcpy(&rty_soar_telemetry_a[0], &exitcode[0], 17U * sizeof(real_T));

    /* End of MATLAB Function: '<S412>/SOLVE' */
  }

  rtPrevZCX.soar_lib_Trig_ZCE = rtb_FixPtRelationalOperator;

  /* End of Outputs for SubSystem: '<S369>/soar_lib' */

  /* Sum: '<S369>/Sum' */
  rtb_Sum = rtu_MET_utc_s - rtu_MET_epoch;

  /* Switch: '<S411>/Switch' incorporates:
   *  UnitDelay: '<S411>/Unit Delay'
   */
  if (rtb_FixPtRelationalOperator) {
    diff = rtb_Sum;
  } else {
    diff = rtDW.UnitDelay_DSTATE;
  }

  /* End of Switch: '<S411>/Switch' */

  /* Sum: '<S411>/Subtract' */
  rtb_Add = rtb_Sum - diff;

  /* Delay: '<S411>/Resettable Delay' incorporates:
   *  SignalConversion: '<S411>/TmpSignal ConversionAtResettable DelayInport3'
   */
  if (rtb_FixPtRelationalOperator && (rtPrevZCX.ResettableDelay_Reset_ZCE !=
       POS_ZCSIG)) {
    rtDW.icLoad = 1U;
  }

  rtPrevZCX.ResettableDelay_Reset_ZCE = rtb_FixPtRelationalOperator;
  if (rtDW.icLoad != 0) {
    rtDW.ResettableDelay_DSTATE[0] = rtu_sc_quat_in[0];
    rtDW.ResettableDelay_DSTATE[1] = rtu_sc_quat_in[1];
    rtDW.ResettableDelay_DSTATE[2] = rtu_sc_quat_in[2];
    rtDW.ResettableDelay_DSTATE[3] = rtu_sc_quat_in[3];
    rtDW.ResettableDelay_DSTATE[4] = rtu_body_rates_radps[0];
    rtDW.ResettableDelay_DSTATE[7] = rtb_Product1[0];
    rtDW.ResettableDelay_DSTATE[5] = rtu_body_rates_radps[1];
    rtDW.ResettableDelay_DSTATE[8] = rtb_Product1[1];
    rtDW.ResettableDelay_DSTATE[6] = rtu_body_rates_radps[2];
    rtDW.ResettableDelay_DSTATE[9] = rtb_Product1[2];
  }

  /* MATLAB Function: '<S411>/soar_INTERP' incorporates:
   *  Delay: '<S411>/Resettable Delay'
   */
  xi[9] = *rty_soar_telemetry_g;
  xi[0] = 0.0;
  if ((*rty_soar_telemetry_g < 0.0) && (fabs(*rty_soar_telemetry_g) >
       8.9884656743115785E+307)) {
    rtb_Sum = *rty_soar_telemetry_g / 9.0;
    for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 8;
         rtu_sc2sun_eci_unit_tmp++) {
      xi[rtu_sc2sun_eci_unit_tmp + 1] = (1.0 + (real_T)rtu_sc2sun_eci_unit_tmp) *
        rtb_Sum;
    }
  } else {
    rtb_Sum = *rty_soar_telemetry_g / 9.0;
    for (n = 0; n < 8; n++) {
      xi[n + 1] = (1.0 + (real_T)n) * rtb_Sum;
    }
  }

  if ((*rty_soar_telemetry_g > 2.2204460492503131E-16) && (rtb_Add >=
       *rty_soar_telemetry_g)) {
    rtb_Product1[0] = 0.0;
    rtb_Product1[1] = 0.0;
    rtb_Product1[2] = 0.0;
    mldivide_FcIbHgdz(J, &rty_soar_telemetry[94], rtb_Gain);
    rtb_x_opt_t[0] = rty_soar_telemetry[90];
    rtb_x_opt_t[1] = rty_soar_telemetry[91];
    rtb_x_opt_t[2] = rty_soar_telemetry[92];
    rtb_x_opt_t[3] = rty_soar_telemetry[93];
    rtb_x_opt_t[4] = rtb_Gain[0];
    rtb_x_opt_t[5] = rtb_Gain[1];
    rtb_x_opt_t[6] = rtb_Gain[2];
    rtb_x_opt_t[7] = rty_soar_telemetry[97];
    rtb_x_opt_t[8] = rty_soar_telemetry[98];
    rtb_x_opt_t[9] = rty_soar_telemetry[99];
  } else if (*rty_soar_telemetry_g > 2.2204460492503131E-16) {
    memcpy(&rtb_x_opt_t[0], &rtDW.ResettableDelay_DSTATE[0], 10U * sizeof(real_T));
    for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 10;
         rtu_sc2sun_eci_unit_tmp++) {
      deriv_AZ3NAdJG(rtb_Add, rtb_x_opt_t, rty_soar_telemetry_f, xi, J, k1);
      for (i = 0; i < 10; i++) {
        rtb_x_opt_t_0[i] = 0.0125 * k1[i] + rtb_x_opt_t[i];
      }

      deriv_AZ3NAdJG(rtb_Add + 0.0125, rtb_x_opt_t_0, rty_soar_telemetry_f, xi,
                     J, k2);
      for (i = 0; i < 10; i++) {
        rtb_x_opt_t_0[i] = 0.0125 * k2[i] + rtb_x_opt_t[i];
      }

      deriv_AZ3NAdJG(rtb_Add + 0.0125, rtb_x_opt_t_0, rty_soar_telemetry_f, xi,
                     J, k3);
      for (i = 0; i < 10; i++) {
        rtb_x_opt_t_0[i] = 0.025 * k3[i] + rtb_x_opt_t[i];
      }

      deriv_AZ3NAdJG(rtb_Add + 0.025, rtb_x_opt_t_0, rty_soar_telemetry_f, xi, J,
                     k4);
      for (i = 0; i < 10; i++) {
        rtb_x_opt_t[i] += (((2.0 * k2[i] + k1[i]) + 2.0 * k3[i]) + k4[i]) *
          0.0041666666666666666;
      }
    }

    for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 3;
         rtu_sc2sun_eci_unit_tmp++) {
      for (i = 0; i < 10; i++) {
        k1[i] = rty_soar_telemetry_f[3 * i + rtu_sc2sun_eci_unit_tmp];
      }

      memcpy(&k2[0], &xi[0], 10U * sizeof(real_T));
      n = 0;
      do {
        exitg2 = 0;
        if (n < 10) {
          if (rtIsNaN(xi[n])) {
            exitg2 = 1;
          } else {
            n++;
          }
        } else {
          if (xi[1] < 0.0) {
            for (n = 0; n < 5; n++) {
              xtmp = k2[n];
              k2[n] = k2[9 - n];
              k2[9 - n] = xtmp;
            }

            for (n = 0; n < 5; n++) {
              xtmp = k1[n];
              k1[n] = k1[9 - n];
              k1[9 - n] = xtmp;
            }
          }

          xtmp = (rtNaN);
          if ((!rtIsNaN(rtb_Add)) && (!(rtb_Add > k2[9])) && (!(rtb_Add < k2[0])))
          {
            n = bsearch_s1bfmSFP(k2, rtb_Add) - 1;
            xtmp = (rtb_Add - k2[n]) / (k2[n + 1] - k2[n]);
            if (xtmp == 0.0) {
              xtmp = k1[n];
            } else if (xtmp == 1.0) {
              xtmp = k1[n + 1];
            } else {
              rtb_Sum = k1[n + 1];
              if (rtb_Sum == k1[n]) {
                xtmp = k1[n];
              } else {
                xtmp = (1.0 - xtmp) * k1[n] + rtb_Sum * xtmp;
              }
            }
          }

          exitg2 = 1;
        }
      } while (exitg2 == 0);

      rtb_Product1[rtu_sc2sun_eci_unit_tmp] = xtmp;
    }
  } else {
    rtb_Product1[0] = 0.0;
    rtb_Product1[1] = 0.0;
    rtb_Product1[2] = 0.0;
    memcpy(&rtb_x_opt_t[0], &rtDW.ResettableDelay_DSTATE[0], 10U * sizeof(real_T));
  }

  /* End of MATLAB Function: '<S411>/soar_INTERP' */

  /* Outputs for IfAction SubSystem: '<S373>/If Warning//Error' incorporates:
   *  ActionPort: '<S397>/if'
   */
  /* If: '<S373>/If1' */
  IfWarningError(rtb_C_cmd, 2.0, 1.0E-12);

  /* End of Outputs for SubSystem: '<S373>/If Warning//Error' */

  /* Sum: '<S368>/Sum' incorporates:
   *  Constant: '<S368>/soar_mode'
   */
  rtb_Sum_oq = (uint8_T)(8 - rtu_gnc_mode);

  /* Switch: '<S368>/Switch' */
  rtb_Sum_m = (rtb_Sum_oq != 0);

  /* RateTransition: '<S10>/Rate Transition6' incorporates:
   *  Switch: '<S368>/Switch'
   */
  rty_quat_cmd[0] = rtb_Switch_pv[0];

  /* Switch: '<S368>/Switch' */
  if (!rtb_Sum_m) {
    /* RateTransition: '<S10>/Rate Transition6' */
    rty_quat_cmd[0] = rtb_x_opt_t[0];
  }

  /* RateTransition: '<S10>/Rate Transition6' incorporates:
   *  Switch: '<S368>/Switch'
   */
  rty_quat_cmd[1] = rtb_Switch_pv[1];

  /* Switch: '<S368>/Switch' */
  if (!rtb_Sum_m) {
    /* RateTransition: '<S10>/Rate Transition6' */
    rty_quat_cmd[1] = rtb_x_opt_t[1];
  }

  /* RateTransition: '<S10>/Rate Transition6' incorporates:
   *  Switch: '<S368>/Switch'
   */
  rty_quat_cmd[2] = rtb_Switch_pv[2];

  /* Switch: '<S368>/Switch' */
  if (!rtb_Sum_m) {
    /* RateTransition: '<S10>/Rate Transition6' */
    rty_quat_cmd[2] = rtb_x_opt_t[2];
  }

  /* RateTransition: '<S10>/Rate Transition6' incorporates:
   *  Switch: '<S368>/Switch'
   */
  rty_quat_cmd[3] = rtb_Switch_pv[3];

  /* Switch: '<S368>/Switch' */
  if (!rtb_Sum_m) {
    /* RateTransition: '<S10>/Rate Transition6' */
    rty_quat_cmd[3] = rtb_x_opt_t[3];
  }

  /* Switch: '<S368>/Switch1' incorporates:
   *  Switch: '<S368>/Switch2'
   */
  if (rtb_Sum_oq != 0) {
    rty_body_rates_cmd[0] = 0.0;
    rty_torque_body_ff[0] = 0.0;
    rty_body_rates_cmd[1] = 0.0;
    rty_torque_body_ff[1] = 0.0;
    rty_body_rates_cmd[2] = 0.0;
    rty_torque_body_ff[2] = 0.0;
  } else {
    rty_body_rates_cmd[0] = rtb_x_opt_t[4];
    rty_torque_body_ff[0] = rtb_Product1[0];
    rty_body_rates_cmd[1] = rtb_x_opt_t[5];
    rty_torque_body_ff[1] = rtb_Product1[1];
    rty_body_rates_cmd[2] = rtb_x_opt_t[6];
    rty_torque_body_ff[2] = rtb_Product1[2];
  }

  /* End of Switch: '<S368>/Switch1' */

  /* S-Function (sdspcount2): '<S369>/Counter' */
  if (MWDSP_EPH_R_B(rtb_FixPtRelationalOperator, &rtDW.Counter_ClkEphState) !=
      0U) {
    rtDW.Counter_Count++;
  }

  *rty_soar_telemetry_d = rtDW.Counter_Count;

  /* End of S-Function (sdspcount2): '<S369>/Counter' */

  /* Update for UnitDelay: '<S410>/Delay Input1'
   *
   * Block description for '<S410>/Delay Input1':
   *
   *  Store in Global RAM
   */
  rtDW.DelayInput1_DSTATE = rtb_Compare_g;

  /* Update for UnitDelay: '<S411>/Unit Delay' */
  rtDW.UnitDelay_DSTATE = diff;

  /* Update for Delay: '<S411>/Resettable Delay' */
  rtDW.icLoad = 0U;
  memcpy(&rtDW.ResettableDelay_DSTATE[0], &rtb_x_opt_t[0], 10U * sizeof(real_T));
}

/*
 * File trailer for generated code.
 *
 * [EOF]
 */
