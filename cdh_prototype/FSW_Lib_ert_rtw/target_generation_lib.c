/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 *
 * File: target_generation_lib.c
 *
 * Code generated for Simulink model 'FSW_Lib'.
 *
 * Model version                  : 1.375
 * Simulink Coder version         : 9.4 (R2020b) 29-Jul-2020
 * C/C++ source code generated on : Tue Mar 29 09:22:04 2022
 *
 * Target selection: ert.tlc
 * Embedded hardware selection: NXP->Cortex-M4
 * Code generation objectives:
 *    1. Execution efficiency
 *    2. RAM efficiency
 * Validation result: Not run
 */

#include "target_generation_lib.h"

/* Include model header file for global data */
#include "FSW_Lib.h"
#include "FSW_Lib_private.h"
#include "MWDSP_EPH_R_B.h"
#include "align_vecs_f4vBXsDu.h"
#include "bsearch_qRItHZGW.h"
#include "convert_to_CCS_9tojus3A.h"
#include "convert_to_CCS_fbGN0NKz.h"
#include "deriv_XPX6EHrN.h"
#include "foh_c1NVxM2u.h"
#include "mldivide_NEqYeqp4.h"
#include "norm_EzB1R8di.h"
#include "schur_ZrGmuypS.h"

/* Forward declaration for local functions */
static void parse_ecos_JkxDos9P_l(const real_T xi[10], const real_T xf[7], const
  real_T J[9], const real_T EH[10000], const real_T BE[3000], const real_T ES
  [100], const real_T AR[100], const real_T ME[16], const real_T MI[16], real_T
  T_max, real_T w_max, real_T s_max, real_T s_min, real_T w_v, real_T c[332],
  real_T G[157368], real_T h[474], real_T A[38844], real_T b[117]);

/* Output and update for Simulink Function: '<S386>/call to ECOS SOCP solver (compiled C function)' */
void run_ecos(int32_T rtu_n, int32_T rtu_m, int32_T rtu_p, int32_T rtu_l,
              int32_T rtu_ncones, const real_T rtu_c[332], const int32_T
              rtu_Gjc[333], const int32_T rtu_Gir[834], const real_T rtu_Gpr[834],
              const real_T rtu_h[474], const int32_T rtu_q[21], const int32_T
              rtu_Ajc[333], const int32_T rtu_Air[1278], const real_T rtu_Apr
              [1278], const real_T rtu_b[117], real_T rty_y[333])
{
  /* local block i/o variables */
  real_T rtb_sfun_ecos[333];
  real_T rtb_TmpSignalConversionAthOutpo[474];
  real_T rtb_TmpSignalConversionAtcOutpo[332];
  real_T rtb_TmpSignalConversionAtbOutpo[117];
  int32_T rtb_TmpSignalConversionAtGirOut[834];
  int32_T rtb_TmpSignalConversionAtAjcOut[333];
  int32_T rtb_TmpSignalConversionAtGjcOut[333];
  int32_T rtb_TmpSignalConversionAtqOutpo[21];
  int32_T rtb_TmpSignalConversionAtlOutpo;
  int32_T rtb_TmpSignalConversionAtmOutpo;
  int32_T rtb_TmpSignalConversionAtnOutpo;
  int32_T rtb_TmpSignalConversionAtncones;
  int32_T rtb_TmpSignalConversionAtpOutpo;

  /* SignalConversion generated from: '<S391>/n' */
  rtb_TmpSignalConversionAtnOutpo = rtu_n;

  /* SignalConversion generated from: '<S391>/m' */
  rtb_TmpSignalConversionAtmOutpo = rtu_m;

  /* SignalConversion generated from: '<S391>/p' */
  rtb_TmpSignalConversionAtpOutpo = rtu_p;

  /* SignalConversion generated from: '<S391>/l' */
  rtb_TmpSignalConversionAtlOutpo = rtu_l;

  /* SignalConversion generated from: '<S391>/ncones' */
  rtb_TmpSignalConversionAtncones = rtu_ncones;

  /* SignalConversion generated from: '<S391>/c' */
  memcpy(&rtb_TmpSignalConversionAtcOutpo[0], &rtu_c[0], 332U * sizeof(real_T));

  /* SignalConversion generated from: '<S391>/Gjc' */
  memcpy(&rtb_TmpSignalConversionAtGjcOut[0], &rtu_Gjc[0], 333U * sizeof(int32_T));

  /* SignalConversion generated from: '<S391>/Gir' */
  memcpy(&rtb_TmpSignalConversionAtGirOut[0], &rtu_Gir[0], 834U * sizeof(int32_T));

  /* SignalConversion generated from: '<S391>/Gpr' */
  memcpy(&rtDW.rtb_TmpSignalConversionAtGprO_m[0], &rtu_Gpr[0], 834U * sizeof
         (real_T));

  /* SignalConversion generated from: '<S391>/h' */
  memcpy(&rtb_TmpSignalConversionAthOutpo[0], &rtu_h[0], 474U * sizeof(real_T));

  /* SignalConversion generated from: '<S391>/q' */
  memcpy(&rtb_TmpSignalConversionAtqOutpo[0], &rtu_q[0], 21U * sizeof(int32_T));

  /* SignalConversion generated from: '<S391>/Ajc' */
  memcpy(&rtb_TmpSignalConversionAtAjcOut[0], &rtu_Ajc[0], 333U * sizeof(int32_T));

  /* SignalConversion generated from: '<S391>/Air' */
  memcpy(&rtDW.rtb_TmpSignalConversionAtAirO_k[0], &rtu_Air[0], 1278U * sizeof
         (int32_T));

  /* SignalConversion generated from: '<S391>/Apr' */
  memcpy(&rtDW.rtb_TmpSignalConversionAtAprO_c[0], &rtu_Apr[0], 1278U * sizeof
         (real_T));

  /* SignalConversion generated from: '<S391>/b' */
  memcpy(&rtb_TmpSignalConversionAtbOutpo[0], &rtu_b[0], 117U * sizeof(real_T));

  /* S-Function (sfun_ecos): '<S391>/sfun_ecos' */
  callecos(rtb_TmpSignalConversionAtnOutpo, rtb_TmpSignalConversionAtmOutpo,
           rtb_TmpSignalConversionAtpOutpo, rtb_TmpSignalConversionAtlOutpo,
           rtb_TmpSignalConversionAtncones, (real_T*)
           &rtb_TmpSignalConversionAtcOutpo[0], (int32_T*)
           &rtb_TmpSignalConversionAtGjcOut[0], (int32_T*)
           &rtb_TmpSignalConversionAtGirOut[0], (real_T*)
           &rtDW.rtb_TmpSignalConversionAtGprO_m[0], (real_T*)
           &rtb_TmpSignalConversionAthOutpo[0], (int32_T*)
           &rtb_TmpSignalConversionAtqOutpo[0], (int32_T*)
           &rtb_TmpSignalConversionAtAjcOut[0], (int32_T*)
           &rtDW.rtb_TmpSignalConversionAtAirO_k[0], (real_T*)
           &rtDW.rtb_TmpSignalConversionAtAprO_c[0], (real_T*)
           &rtb_TmpSignalConversionAtbOutpo[0], &rtb_sfun_ecos[0]);

  /* SignalConversion generated from: '<S391>/y' */
  memcpy(&rty_y[0], &rtb_sfun_ecos[0], 333U * sizeof(real_T));
}

/* Function for MATLAB Function: '<S386>/SOLVE' */
static void parse_ecos_JkxDos9P_l(const real_T xi[10], const real_T xf[7], const
  real_T J[9], const real_T EH[10000], const real_T BE[3000], const real_T ES
  [100], const real_T AR[100], const real_T ME[16], const real_T MI[16], real_T
  T_max, real_T w_max, real_T s_max, real_T s_min, real_T w_v, real_T c[332],
  real_T G[157368], real_T h[474], real_T A[38844], real_T b[117])
{
  static const real_T i_0[332] = { -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.70710678118654746, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0, -0.0,
    -0.0, -0.0, -0.0 };

  static const real_T j[332] = { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.70710678118654746, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 };

  static const real_T f[92] = { 0.70710678118654746, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.70710678118654746, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
    0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 };

  static const real_T g[6] = { 2.1213203435596424, 0.0, 0.0, 0.0, 0.0,
    -0.70710678118654746 };

  static const int8_T d[3320] = { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0 };

  static const int8_T e[2324] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0,
    0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,
    0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };

  static const int8_T Hs[332] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0 };

  static const int8_T l[332] = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0 };

  static const int8_T b_A[100] = { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 1 };

  static const int8_T c_b[40] = { 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };

  static const int8_T b_B[9] = { 1, 0, 0, 0, 1, 0, 0, 0, 1 };

  real_T hquad__[152];
  real_T hquad_[92];
  real_T MI_0[40];
  real_T B_5[30];
  real_T b_w_max[30];
  real_T u_max[30];
  real_T x[9];
  real_T y[9];
  real_T absx11;
  real_T absx21;
  real_T absx31;
  int32_T b_K_tmp;
  int32_T i;
  int32_T itmp;
  int32_T p2;
  int32_T p3;
  int8_T Hk[3320];
  int8_T b_K[900];
  int8_T Hev;
  int8_T Hv;
  for (i = 0; i < 30; i++) {
    u_max[i] = T_max;
    b_w_max[i] = w_max;
  }

  memcpy(&x[0], &J[0], 9U * sizeof(real_T));
  i = 0;
  p2 = 3;
  p3 = 6;
  absx11 = fabs(J[0]);
  absx21 = fabs(J[1]);
  absx31 = fabs(J[2]);
  if ((absx21 > absx11) && (absx21 > absx31)) {
    i = 3;
    p2 = 0;
    x[0] = J[1];
    x[1] = J[0];
    x[3] = J[4];
    x[4] = J[3];
    x[6] = J[7];
    x[7] = J[6];
  } else {
    if (absx31 > absx11) {
      i = 6;
      p3 = 0;
      x[0] = J[2];
      x[2] = J[0];
      x[3] = J[5];
      x[5] = J[3];
      x[6] = J[8];
      x[8] = J[6];
    }
  }

  absx31 = x[1] / x[0];
  x[1] = absx31;
  absx11 = x[2] / x[0];
  x[2] = absx11;
  x[4] -= absx31 * x[3];
  x[5] -= absx11 * x[3];
  x[7] -= absx31 * x[6];
  x[8] -= absx11 * x[6];
  if (fabs(x[5]) > fabs(x[4])) {
    itmp = p2;
    p2 = p3;
    p3 = itmp;
    x[1] = absx11;
    x[2] = absx31;
    absx11 = x[4];
    x[4] = x[5];
    x[5] = absx11;
    absx11 = x[7];
    x[7] = x[8];
    x[8] = absx11;
  }

  absx31 = x[5] / x[4];
  x[8] -= absx31 * x[7];
  absx11 = (absx31 * x[1] - x[2]) / x[8];
  absx21 = -(x[7] * absx11 + x[1]) / x[4];
  y[i] = ((1.0 - x[3] * absx21) - x[6] * absx11) / x[0];
  y[i + 1] = absx21;
  y[i + 2] = absx11;
  absx11 = -absx31 / x[8];
  absx21 = (1.0 - x[7] * absx11) / x[4];
  y[p2] = -(x[3] * absx21 + x[6] * absx11) / x[0];
  y[p2 + 1] = absx21;
  y[p2 + 2] = absx11;
  absx11 = 1.0 / x[8];
  absx21 = -x[7] * absx11 / x[4];
  y[p3] = -(x[3] * absx21 + x[6] * absx11) / x[0];
  y[p3 + 1] = absx21;
  y[p3 + 2] = absx11;
  memset(&B_5[0], 0, 12U * sizeof(real_T));
  for (p2 = 0; p2 < 9; p2++) {
    B_5[p2 + 12] = y[p2];
    B_5[p2 + 21] = 0.0;
  }

  i = -1;
  for (p2 = 0; p2 < 10; p2++) {
    for (p3 = 0; p3 < 10; p3++) {
      for (itmp = 0; itmp < 10; itmp++) {
        i++;
        absx11 = b_A[10 * p2 + itmp];
        rtDW.K[i] = absx11 * B_5[3 * p3];
        i++;
        rtDW.K[i] = absx11 * B_5[3 * p3 + 1];
        i++;
        rtDW.K[i] = absx11 * B_5[3 * p3 + 2];
      }
    }
  }

  memcpy(&rtDW.Hw[0], &rtDW.K[0], 3000U * sizeof(real_T));
  memset(&rtDW.Hw[3000], 0, 6960U * sizeof(real_T));
  i = -1;
  for (p2 = 0; p2 < 10; p2++) {
    for (p3 = 0; p3 < 3; p3++) {
      for (itmp = 0; itmp < 10; itmp++) {
        i++;
        b_K_tmp = b_A[10 * p2 + itmp];
        b_K[i] = (int8_T)(b_K_tmp * b_B[3 * p3]);
        i++;
        b_K[i] = (int8_T)(b_K_tmp * b_B[3 * p3 + 1]);
        i++;
        b_K[i] = (int8_T)(b_K_tmp * b_B[3 * p3 + 2]);
      }
    }
  }

  memset(&rtDW.Hu[0], 0, 3000U * sizeof(real_T));
  for (p2 = 0; p2 < 900; p2++) {
    rtDW.Hu[p2 + 3000] = b_K[p2];
  }

  memset(&rtDW.Hu[3900], 0, 6060U * sizeof(real_T));
  rtDW.Hu[3000] = 0.70710678118654757;
  rtDW.Hu[3031] = 0.70710678118654757;
  rtDW.Hu[3062] = 0.70710678118654757;
  rtDW.Hu[3837] = 0.70710678118654757;
  rtDW.Hu[3868] = 0.70710678118654757;
  rtDW.Hu[3899] = 0.70710678118654757;
  memset(&rtDW.b_I[0], 0, 10000U * sizeof(int8_T));
  for (i = 0; i < 100; i++) {
    rtDW.b_I[i + 100 * i] = 1;
  }

  memset(&rtDW.Hv[0], 0, 13200U * sizeof(int8_T));
  for (p2 = 0; p2 < 10000; p2++) {
    rtDW.Hv[p2 + 13200] = rtDW.b_I[p2];
    rtDW.Hv[p2 + 23200] = 0;
    rtDW.b_I[p2] = 0;
  }

  for (i = 0; i < 100; i++) {
    rtDW.b_I[i + 100 * i] = 1;
  }

  memset(&rtDW.Hev[0], 0, 23200U * sizeof(int8_T));
  memcpy(&rtDW.Hev[23200], &rtDW.b_I[0], 10000U * sizeof(int8_T));
  memset(&c[0], 0, 130U * sizeof(real_T));
  c[130] = 1.0;
  c[131] = 0.0;
  for (i = 0; i < 100; i++) {
    c[i + 132] = 0.0;
    c[i + 232] = w_v;
  }

  memset(&rtDW.b_I[0], 0, 10000U * sizeof(int8_T));
  for (i = 0; i < 100; i++) {
    rtDW.b_I[i + 100 * i] = 1;
  }

  memset(&rtDW.c_I[0], 0, 10000U * sizeof(int8_T));
  for (i = 0; i < 100; i++) {
    rtDW.c_I[i + 100 * i] = 1;
  }

  for (p2 = 0; p2 < 332; p2++) {
    for (p3 = 0; p3 < 10; p3++) {
      A[p3 + 117 * p2] = d[10 * p2 + p3];
    }
  }

  for (p2 = 0; p2 < 100; p2++) {
    for (p3 = 0; p3 < 100; p3++) {
      i = 100 * p2 + p3;
      A[(p3 + 117 * p2) + 10] = EH[i] - (real_T)rtDW.b_I[i];
    }
  }

  for (p2 = 0; p2 < 30; p2++) {
    memcpy(&A[p2 * 117 + 11710], &BE[p2 * 100], 100U * sizeof(real_T));
  }

  for (p2 = 0; p2 < 100; p2++) {
    A[p2 + 15220] = 0.0;
    A[p2 + 15337] = ES[p2];
    for (p3 = 0; p3 < 100; p3++) {
      A[(p3 + 117 * (p2 + 132)) + 10] = rtDW.c_I[100 * p2 + p3];
      A[(p3 + 117 * (p2 + 232)) + 10] = 0.0;
    }
  }

  for (p2 = 0; p2 < 332; p2++) {
    for (p3 = 0; p3 < 7; p3++) {
      A[(p3 + 117 * p2) + 110] = e[7 * p2 + p3];
    }
  }

  memcpy(&b[0], &xi[0], 10U * sizeof(real_T));
  for (i = 0; i < 100; i++) {
    b[i + 10] = -AR[i];
  }

  for (i = 0; i < 7; i++) {
    b[i + 110] = xf[i];
  }

  for (p2 = 0; p2 < 332; p2++) {
    rtDW.Gquad_[92 * p2] = i_0[p2];
    for (p3 = 0; p3 < 30; p3++) {
      rtDW.Gquad_[(p3 + 92 * p2) + 1] = -rtDW.Hu[30 * p2 + p3];
    }

    rtDW.Gquad_[92 * p2 + 31] = j[p2];
    memset(&rtDW.Gquad_[p2 * 92 + 32], 0, 60U * sizeof(real_T));
  }

  memcpy(&hquad_[0], &f[0], 92U * sizeof(real_T));
  for (i = 0; i < 10; i++) {
    memset(&Hk[0], 0, 3320U * sizeof(int8_T));
    p2 = 10 * i;
    for (p3 = 0; p3 < 10; p3++) {
      for (itmp = 0; itmp < 10; itmp++) {
        Hk[itmp + 10 * (p3 + p2)] = b_A[10 * p3 + itmp];
      }
    }

    for (p2 = 0; p2 < 4; p2++) {
      for (p3 = 0; p3 < 10; p3++) {
        itmp = p3 << 2;
        b_K_tmp = p2 + itmp;
        MI_0[b_K_tmp] = 0.0;
        MI_0[b_K_tmp] += (real_T)c_b[itmp] * MI[p2];
        MI_0[b_K_tmp] += (real_T)c_b[itmp + 1] * MI[p2 + 4];
        MI_0[b_K_tmp] += (real_T)c_b[itmp + 2] * MI[p2 + 8];
        MI_0[b_K_tmp] += (real_T)c_b[itmp + 3] * MI[p2 + 12];
      }

      for (p3 = 0; p3 < 332; p3++) {
        absx11 = 0.0;
        for (itmp = 0; itmp < 10; itmp++) {
          absx11 += MI_0[(itmp << 2) + p2] * (real_T)Hk[10 * p3 + itmp];
        }

        rtDW.MI[p2 + (p3 << 2)] = -absx11;
      }
    }

    p2 = 6 * i;
    for (p3 = 0; p3 < 332; p3++) {
      itmp = p2 + 92 * p3;
      rtDW.Gquad_[itmp + 32] = 0.0;
      b_K_tmp = p3 << 2;
      rtDW.Gquad_[itmp + 33] = rtDW.MI[b_K_tmp];
      rtDW.Gquad_[itmp + 34] = rtDW.MI[b_K_tmp + 1];
      rtDW.Gquad_[itmp + 35] = rtDW.MI[b_K_tmp + 2];
      rtDW.Gquad_[itmp + 36] = rtDW.MI[b_K_tmp + 3];
      rtDW.Gquad_[itmp + 37] = 0.0;
    }

    for (p3 = 0; p3 < 6; p3++) {
      hquad_[(p3 + p2) + 32] = g[p3];
    }
  }

  for (p2 = 0; p2 < 332; p2++) {
    memcpy(&rtDW.Gquad__[p2 * 152], &rtDW.Gquad_[p2 * 92], 92U * sizeof(real_T));
    memset(&rtDW.Gquad__[p2 * 152 + 92], 0, 60U * sizeof(real_T));
  }

  memcpy(&hquad__[0], &hquad_[0], 92U * sizeof(real_T));
  memset(&hquad__[92], 0, 60U * sizeof(real_T));
  for (i = 0; i < 10; i++) {
    memset(&Hk[0], 0, 3320U * sizeof(int8_T));
    p2 = 10 * i;
    for (p3 = 0; p3 < 10; p3++) {
      for (itmp = 0; itmp < 10; itmp++) {
        Hk[itmp + 10 * (p3 + p2)] = b_A[10 * p3 + itmp];
      }
    }

    for (p2 = 0; p2 < 4; p2++) {
      for (p3 = 0; p3 < 10; p3++) {
        itmp = p3 << 2;
        b_K_tmp = p2 + itmp;
        MI_0[b_K_tmp] = 0.0;
        MI_0[b_K_tmp] += (real_T)c_b[itmp] * ME[p2];
        MI_0[b_K_tmp] += (real_T)c_b[itmp + 1] * ME[p2 + 4];
        MI_0[b_K_tmp] += (real_T)c_b[itmp + 2] * ME[p2 + 8];
        MI_0[b_K_tmp] += (real_T)c_b[itmp + 3] * ME[p2 + 12];
      }

      for (p3 = 0; p3 < 332; p3++) {
        absx11 = 0.0;
        for (itmp = 0; itmp < 10; itmp++) {
          absx11 += MI_0[(itmp << 2) + p2] * (real_T)Hk[10 * p3 + itmp];
        }

        rtDW.MI[p2 + (p3 << 2)] = -absx11;
      }
    }

    p2 = 6 * i;
    for (p3 = 0; p3 < 332; p3++) {
      itmp = p2 + 152 * p3;
      rtDW.Gquad__[itmp + 32] = 0.0;
      b_K_tmp = p3 << 2;
      rtDW.Gquad__[itmp + 33] = rtDW.MI[b_K_tmp];
      rtDW.Gquad__[itmp + 34] = rtDW.MI[b_K_tmp + 1];
      rtDW.Gquad__[itmp + 35] = rtDW.MI[b_K_tmp + 2];
      rtDW.Gquad__[itmp + 36] = rtDW.MI[b_K_tmp + 3];
      rtDW.Gquad__[itmp + 37] = 0.0;
    }

    p2 = 6 * i;
    for (p3 = 0; p3 < 6; p3++) {
      hquad__[(p3 + p2) + 32] = g[p3];
    }
  }

  for (p2 = 0; p2 < 332; p2++) {
    for (p3 = 0; p3 < 30; p3++) {
      i = 30 * p2 + p3;
      absx11 = rtDW.Hu[i];
      absx21 = rtDW.Hw[i];
      i = p3 + 474 * p2;
      G[i] = absx21;
      G[i + 30] = -absx21;
      G[i + 60] = absx11;
      G[i + 90] = -absx11;
    }

    G[474 * p2 + 120] = Hs[p2];
    G[474 * p2 + 121] = l[p2];
    for (p3 = 0; p3 < 100; p3++) {
      i = 100 * p2 + p3;
      Hev = rtDW.Hev[i];
      Hv = rtDW.Hv[i];
      i = p3 + 474 * p2;
      G[i + 122] = Hv - Hev;
      G[i + 222] = -Hv - Hev;
    }

    memcpy(&G[p2 * 474 + 322], &rtDW.Gquad__[p2 * 152], 152U * sizeof(real_T));
  }

  for (i = 0; i < 30; i++) {
    absx11 = u_max[i];
    absx21 = b_w_max[i];
    h[i] = absx21;
    h[i + 30] = absx21;
    h[i + 60] = absx11;
    h[i + 90] = absx11;
  }

  h[120] = s_max;
  h[121] = -s_min;
  for (i = 0; i < 100; i++) {
    h[i + 122] = 0.0;
    h[i + 222] = 0.0;
  }

  memcpy(&h[322], &hquad__[0], 152U * sizeof(real_T));
}

/* System initialize for atomic system: '<S1>/target_generation_lib' */
void target_generation_lib_Init(void)
{
  /* InitializeConditions for Delay: '<S385>/Resettable Delay' */
  rtDW.icLoad = 1U;

  /* InitializeConditions for S-Function (sdspcount2): '<S342>/Counter' */
  rtDW.Counter_ClkEphState = 5U;

  /* SystemInitialize for Merge: '<S338>/Merge' */
  rtDW.Merge_n[0] = 1.0;
  rtDW.Merge_n[1] = 0.0;
  rtDW.Merge_n[2] = 0.0;
  rtDW.Merge_n[3] = 0.0;

  /* SystemInitialize for Triggered SubSystem: '<S342>/soar_lib' */
  rtPrevZCX.soar_lib_Trig_ZCE = ZERO_ZCSIG;

  /* End of SystemInitialize for SubSystem: '<S342>/soar_lib' */
}

/* Output and update for atomic system: '<S1>/target_generation_lib' */
void target_generation_lib(uint8_T rtu_gnc_mode, const real_T
  rtu_sc2sun_eci_unit[3], const real_T rtu_sc2targ_eci_unit[3], const real_T
  rtu_r_eci_m[3], const real_T rtu_sc_quat_in[4], const real_T
  rtu_body_rates_radps[3], const real_T rtu_RWA_rpm[4], const real_T
  rtu_quat_soar_cmd[4], real_T rtu_MET_epoch, real_T rtu_MET_utc_s, real_T
  rty_quat_cmd[4], real_T rty_body_rates_cmd[3], real_T rty_torque_body_ff[3],
  uint8_T *rty_target_gen_flag, real_T rty_soar_telemetry[100], real_T
  rty_soar_telemetry_i[30], real_T *rty_soar_telemetry_d, real_T
  rty_soar_telemetry_im[17], uint32_T *rty_soar_telemetry_h)
{
  static const real_T d_y[16] = { 0.50000000000000011, 0.0, 0.0, 0.0, 0.0,
    0.50000000000000011, 0.0, 0.0, 0.0, 0.0, 0.50000000000000011, 0.0, 0.0, 0.0,
    0.0, 0.50000000000000011 };

  static const real_T e_y[16] = { 0.64278760968653936, 0.0, 0.0, 0.0, 0.0,
    0.64278760968653936, 0.0, 0.0, 0.0, 0.0, 0.64278760968653936, 0.0, 0.0, 0.0,
    0.0, 0.64278760968653936 };

  static const real_T J[9] = { 0.0118206435013, 0.00043170726620000006,
    -7.3061275000000005E-6, 0.00043170726620000006, 0.0116363514485,
    -9.29219316E-5, -7.3061275000000005E-6, -9.29219316E-5, 0.0060345844268 };

  static const real_T tmp_0[9] = { 0.0118206435013, 0.00043170726620000006,
    -7.3061275000000005E-6, 0.00043170726620000006, 0.0116363514485,
    -9.29219316E-5, -7.3061275000000005E-6, -9.29219316E-5, 0.0060345844268 };

  static const real_T d_0[3] = { 0.0, 0.0, -1.0 };

  static const real_T e[3] = { 0.0, 0.0, 1.0 };

  static const int32_T d_2[21] = { 32, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
    6, 6, 6, 6, 6, 6 };

  static const int8_T c_y[16] = { 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 2
  };

  static const int8_T d_b[9] = { 1, 0, 0, 0, 1, 0, 0, 0, 1 };

  static const int8_T c_0[3] = { 0, 1, 0 };

  static const int8_T d_1[3] = { 0, 0, -1 };

  real_T h[474];
  real_T y[333];
  real_T c[332];
  real_T b[117];
  real_T AR[100];
  real_T ES[100];
  real_T V[99];
  real_T qb[40];
  real_T De[16];
  real_T Di[16];
  real_T rtb_ME[16];
  real_T rtb_MI[16];
  real_T rtb_MI_0[16];
  real_T rtu_sc2sun_eci_unit_1[16];
  real_T k1[10];
  real_T k2[10];
  real_T k3[10];
  real_T rtb_x_opt_t[10];
  real_T rtb_x_opt_t_0[10];
  real_T tmp[10];
  real_T xi[10];
  real_T b_b[9];
  real_T rtb_C_cmd[9];
  real_T rtu_sc2sun_eci_unit_0[9];
  real_T tmp_1[9];
  real_T xf[7];
  real_T rtb_Reshape[4];
  real_T rtu_sc2sun_eci_unit_2[4];
  real_T e_0[3];
  real_T rtb_Gain[3];
  real_T rtb_MathFunction[3];
  real_T rtu_sc2sun_eci_unit_3[3];
  real_T coff;
  real_T diff;
  real_T rtb_Add;
  real_T rtb_Gain_ex;
  real_T rtb_Sum;
  real_T t;
  int32_T Gir[834];
  int32_T Ajc[333];
  int32_T Gjc[333];
  int32_T b_ibmat;
  int32_T exitg2;
  int32_T nz;
  int32_T rtu_sc2sun_eci_unit_tmp;
  int32_T rtu_sc2sun_eci_unit_tmp_0;
  int8_T d;
  boolean_T x[10];
  boolean_T exitg1;
  boolean_T rtb_AND;
  boolean_T rtb_Compare_lr;
  boolean_T rtb_FixPtRelationalOperator;

  /* Sum: '<S340>/Sum of Elements' incorporates:
   *  Gain: '<S10>/Gain'
   *  Math: '<S340>/Math Function'
   */
  rtb_Sum = (-rtu_r_eci_m[0] * -rtu_r_eci_m[0] + -rtu_r_eci_m[1] * -rtu_r_eci_m
             [1]) + -rtu_r_eci_m[2] * -rtu_r_eci_m[2];

  /* Math: '<S340>/Math Function1'
   *
   * About '<S340>/Math Function1':
   *  Operator: sqrt
   */
  if (rtb_Sum < 0.0) {
    rtb_Sum = -sqrt(fabs(rtb_Sum));
  } else {
    rtb_Sum = sqrt(rtb_Sum);
  }

  /* End of Math: '<S340>/Math Function1' */

  /* Switch: '<S340>/Switch' incorporates:
   *  Constant: '<S340>/Constant'
   *  Gain: '<S10>/Gain'
   *  Product: '<S340>/Product'
   */
  if (rtb_Sum > 0.0) {
    rty_quat_cmd[0] = -rtu_r_eci_m[0];
    rty_quat_cmd[1] = -rtu_r_eci_m[1];
    rty_quat_cmd[2] = -rtu_r_eci_m[2];
    rty_quat_cmd[3] = rtb_Sum;
  } else {
    rty_quat_cmd[0] = -rtu_r_eci_m[0] * 0.0;
    rty_quat_cmd[1] = -rtu_r_eci_m[1] * 0.0;
    rty_quat_cmd[2] = -rtu_r_eci_m[2] * 0.0;
    rty_quat_cmd[3] = 1.0;
  }

  /* End of Switch: '<S340>/Switch' */

  /* MATLAB Function: '<S10>/target_gen' */
  *rty_target_gen_flag = 0U;
  rtb_C_cmd[0] = 0.766044443118978;
  rtb_C_cmd[3] = 0.64278760968653925;
  rtb_C_cmd[6] = 0.0;
  rtb_C_cmd[1] = -0.64278760968653925;
  rtb_C_cmd[4] = 0.766044443118978;
  rtb_C_cmd[7] = 0.0;

  /* Product: '<S340>/Divide' */
  rtb_Gain[0] = rty_quat_cmd[0] / rty_quat_cmd[3];

  /* MATLAB Function: '<S10>/target_gen' */
  rtb_C_cmd[2] = 0.0;

  /* Product: '<S340>/Divide' */
  rtb_Gain[1] = rty_quat_cmd[1] / rty_quat_cmd[3];

  /* MATLAB Function: '<S10>/target_gen' */
  rtb_C_cmd[5] = 0.0;

  /* Product: '<S340>/Divide' */
  rtb_Gain[2] = rty_quat_cmd[2] / rty_quat_cmd[3];

  /* MATLAB Function: '<S10>/target_gen' */
  rtb_C_cmd[8] = 1.0;
  for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
    rtb_MathFunction[b_ibmat] = rtb_C_cmd[b_ibmat + 3] + rtb_C_cmd[b_ibmat] *
      0.0;
  }

  if (norm_EzB1R8di(rtu_sc2sun_eci_unit) < 0.001) {
    memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
    rtb_C_cmd[0] = 1.0;
    rtb_C_cmd[4] = 1.0;
    rtb_C_cmd[8] = 1.0;
    *rty_target_gen_flag = 1U;
  } else if (norm_EzB1R8di(rtu_sc2targ_eci_unit) < 0.001) {
    memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
    rtb_C_cmd[0] = 1.0;
    rtb_C_cmd[4] = 1.0;
    rtb_C_cmd[8] = 1.0;
    *rty_target_gen_flag = 2U;
  } else if (norm_EzB1R8di(rtb_Gain) < 0.001) {
    memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
    rtb_C_cmd[0] = 1.0;
    rtb_C_cmd[4] = 1.0;
    rtb_C_cmd[8] = 1.0;
    *rty_target_gen_flag = 3U;
  } else if ((rtu_gnc_mode == 7) || (rtu_gnc_mode == 8)) {
    if (fabs((rtu_sc2sun_eci_unit[0] * rtu_sc2targ_eci_unit[0] +
              rtu_sc2sun_eci_unit[1] * rtu_sc2targ_eci_unit[1]) +
             rtu_sc2sun_eci_unit[2] * rtu_sc2targ_eci_unit[2]) > 0.999) {
      memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
      rtb_C_cmd[0] = 1.0;
      rtb_C_cmd[4] = 1.0;
      rtb_C_cmd[8] = 1.0;
      *rty_target_gen_flag = 4U;
    } else {
      for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
        rtu_sc2sun_eci_unit_3[b_ibmat] = rtu_sc2sun_eci_unit[b_ibmat];
      }

      for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
        rtb_Gain[b_ibmat] = d_0[b_ibmat];
      }

      for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
        e_0[b_ibmat] = rtu_sc2targ_eci_unit[b_ibmat];
      }

      align_vecs_f4vBXsDu(rtb_MathFunction, rtu_sc2sun_eci_unit_3, rtb_Gain, e_0,
                          rtb_C_cmd);
    }
  } else if ((rtu_gnc_mode == 4) || (rtu_gnc_mode == 5) || (rtu_gnc_mode == 6))
  {
    if (fabs((rtb_Gain[0] * rtu_sc2sun_eci_unit[0] + rtb_Gain[1] *
              rtu_sc2sun_eci_unit[1]) + rtb_Gain[2] * rtu_sc2sun_eci_unit[2]) >
        0.999) {
      memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
      rtb_C_cmd[0] = 1.0;
      rtb_C_cmd[4] = 1.0;
      rtb_C_cmd[8] = 1.0;
      *rty_target_gen_flag = 5U;
    } else {
      for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
        rtu_sc2sun_eci_unit_3[b_ibmat] = rtu_sc2sun_eci_unit[b_ibmat];
      }

      for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
        e_0[b_ibmat] = e[b_ibmat];
      }

      align_vecs_f4vBXsDu(rtb_MathFunction, rtu_sc2sun_eci_unit_3, e_0, rtb_Gain,
                          rtb_C_cmd);
    }
  } else {
    memset(&rtb_C_cmd[0], 0, 9U * sizeof(real_T));
    rtb_C_cmd[0] = 1.0;
    rtb_C_cmd[4] = 1.0;
    rtb_C_cmd[8] = 1.0;
  }

  /* Outputs for IfAction SubSystem: '<S347>/If Warning//Error' incorporates:
   *  ActionPort: '<S371>/if'
   */
  /* If: '<S347>/If1' */
  IfWarningError(rtb_C_cmd, 2.0, 1.0E-12);

  /* End of Outputs for SubSystem: '<S347>/If Warning//Error' */

  /* Sum: '<S348>/Add' */
  rtb_Add = (rtb_C_cmd[0] + rtb_C_cmd[4]) + rtb_C_cmd[8];

  /* If: '<S338>/If' */
  if (rtb_Add > 0.0) {
    /* Outputs for IfAction SubSystem: '<S338>/Positive Trace' incorporates:
     *  ActionPort: '<S346>/Action Port'
     */
    PositiveTrace(rtb_Add, rtb_C_cmd, &rtDW.Merge_n[0], &rtDW.Merge_n[1]);

    /* End of Outputs for SubSystem: '<S338>/Positive Trace' */
  } else {
    /* Outputs for IfAction SubSystem: '<S338>/Negative Trace' incorporates:
     *  ActionPort: '<S345>/Action Port'
     */
    NegativeTrace(rtb_C_cmd, rtDW.Merge_n);

    /* End of Outputs for SubSystem: '<S338>/Negative Trace' */
  }

  /* End of If: '<S338>/If' */

  /* Product: '<S339>/Product' incorporates:
   *  Constant: '<S339>/wheel_inertia'
   */
  rtb_Sum = 2.9526E-5 * rtu_RWA_rpm[0];
  rtb_Add = 2.9526E-5 * rtu_RWA_rpm[1];
  t = 2.9526E-5 * rtu_RWA_rpm[2];
  coff = 2.9526E-5 * rtu_RWA_rpm[3];

  /* Product: '<S339>/Product1' incorporates:
   *  Constant: '<S339>/A_wheel2body'
   */
  for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
    rtb_Gain_ex = rtCP_A_wheel2body_Value_c[b_ibmat + 9] * coff +
      (rtCP_A_wheel2body_Value_c[b_ibmat + 6] * t +
       (rtCP_A_wheel2body_Value_c[b_ibmat + 3] * rtb_Add +
        rtCP_A_wheel2body_Value_c[b_ibmat] * rtb_Sum));
    rtb_Gain[b_ibmat] = rtb_Gain_ex;
  }

  /* End of Product: '<S339>/Product1' */

  /* Math: '<S10>/Transpose' */
  rty_quat_cmd[0] = rtDW.Merge_n[0];

  /* Reshape: '<S10>/Reshape' incorporates:
   *  Math: '<S10>/Transpose'
   */
  rtb_Reshape[0] = rtDW.Merge_n[0];

  /* Math: '<S10>/Transpose' */
  rty_quat_cmd[1] = rtDW.Merge_n[1];

  /* Reshape: '<S10>/Reshape' incorporates:
   *  Math: '<S10>/Transpose'
   */
  rtb_Reshape[1] = rtDW.Merge_n[1];

  /* Math: '<S10>/Transpose' */
  rty_quat_cmd[2] = rtDW.Merge_n[2];

  /* Reshape: '<S10>/Reshape' incorporates:
   *  Math: '<S10>/Transpose'
   */
  rtb_Reshape[2] = rtDW.Merge_n[2];

  /* Math: '<S10>/Transpose' */
  rty_quat_cmd[3] = rtDW.Merge_n[3];

  /* Reshape: '<S10>/Reshape' incorporates:
   *  Math: '<S10>/Transpose'
   */
  rtb_Reshape[3] = rtDW.Merge_n[3];

  /* Outputs for Atomic SubSystem: '<S10>/quat_rectify_lib' */
  quat_rectify_lib(rtb_Reshape, rty_quat_cmd);

  /* End of Outputs for SubSystem: '<S10>/quat_rectify_lib' */

  /* Switch: '<S10>/Switch' */
  if (rtu_MET_epoch != 0.0) {
    rtb_Reshape[0] = rtu_quat_soar_cmd[0];
    rtb_Reshape[1] = rtu_quat_soar_cmd[1];
    rtb_Reshape[2] = rtu_quat_soar_cmd[2];
    rtb_Reshape[3] = rtu_quat_soar_cmd[3];
  } else {
    rtb_Reshape[0] = rty_quat_cmd[0];
    rtb_Reshape[1] = rty_quat_cmd[1];
    rtb_Reshape[2] = rty_quat_cmd[2];
    rtb_Reshape[3] = rty_quat_cmd[3];
  }

  /* End of Switch: '<S10>/Switch' */

  /* RelationalOperator: '<S387>/Compare' incorporates:
   *  Constant: '<S383>/Constant'
   *  Constant: '<S387>/Constant'
   *  RelationalOperator: '<S383>/Compare'
   */
  rtb_Compare_lr = (rtu_gnc_mode == 8);

  /* RelationalOperator: '<S384>/FixPt Relational Operator' incorporates:
   *  UnitDelay: '<S384>/Delay Input1'
   *
   * Block description for '<S384>/Delay Input1':
   *
   *  Store in Global RAM
   */
  rtb_FixPtRelationalOperator = ((int32_T)rtb_Compare_lr > (int32_T)
    rtDW.DelayInput1_DSTATE);

  /* Outputs for Triggered SubSystem: '<S342>/soar_lib' incorporates:
   *  TriggerPort: '<S386>/Trigger'
   */
  if (rtb_FixPtRelationalOperator && (rtPrevZCX.soar_lib_Trig_ZCE != POS_ZCSIG))
  {
    /* MATLAB Function: '<S386>/INITIALIZE' */
    memcpy(&rtb_C_cmd[0], &tmp_0[0], 9U * sizeof(real_T));
    rtb_Sum = (rtu_sc2sun_eci_unit[0] * 0.0 + rtu_sc2sun_eci_unit[1] * 0.0) +
      -rtu_sc2sun_eci_unit[2];
    rtb_Add = (rtu_sc2sun_eci_unit[0] * 0.0 + rtu_sc2sun_eci_unit[1]) +
      rtu_sc2sun_eci_unit[2] * 0.0;
    tmp_1[0] = 0.0;
    tmp_1[3] = -rtu_sc2sun_eci_unit[2];
    tmp_1[6] = rtu_sc2sun_eci_unit[1];
    tmp_1[1] = rtu_sc2sun_eci_unit[2];
    tmp_1[4] = 0.0;
    tmp_1[7] = -rtu_sc2sun_eci_unit[0];
    tmp_1[2] = -rtu_sc2sun_eci_unit[1];
    tmp_1[5] = rtu_sc2sun_eci_unit[0];
    tmp_1[8] = 0.0;
    for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
      rtb_MathFunction[b_ibmat] = -tmp_1[b_ibmat + 6] + (tmp_1[b_ibmat + 3] *
        0.0 + tmp_1[b_ibmat] * 0.0);
    }

    tmp_1[0] = 0.0;
    tmp_1[3] = -rtu_sc2sun_eci_unit[2];
    tmp_1[6] = rtu_sc2sun_eci_unit[1];
    tmp_1[1] = rtu_sc2sun_eci_unit[2];
    tmp_1[4] = 0.0;
    tmp_1[7] = -rtu_sc2sun_eci_unit[0];
    tmp_1[2] = -rtu_sc2sun_eci_unit[1];
    tmp_1[5] = rtu_sc2sun_eci_unit[0];
    tmp_1[8] = 0.0;
    rtu_sc2sun_eci_unit_1[0] = (rtb_Sum - 0.64278760968653936) + 2.0;
    for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
      d = d_1[b_ibmat];
      rtu_sc2sun_eci_unit_0[3 * b_ibmat] = rtu_sc2sun_eci_unit[0] * (real_T)d;
      b_b[3 * b_ibmat] = 0.0 * rtu_sc2sun_eci_unit[b_ibmat];
      rtu_sc2sun_eci_unit_tmp = 3 * b_ibmat + 1;
      rtu_sc2sun_eci_unit_0[rtu_sc2sun_eci_unit_tmp] = rtu_sc2sun_eci_unit[1] *
        (real_T)d;
      b_b[rtu_sc2sun_eci_unit_tmp] = 0.0 * rtu_sc2sun_eci_unit[b_ibmat];
      nz = 3 * b_ibmat + 2;
      rtu_sc2sun_eci_unit_0[nz] = rtu_sc2sun_eci_unit[2] * (real_T)d;
      b_b[nz] = -rtu_sc2sun_eci_unit[b_ibmat];
      rtu_sc2sun_eci_unit_tmp_0 = (b_ibmat + 1) << 2;
      rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp_0] =
        (rtb_MathFunction[b_ibmat] - e_y[rtu_sc2sun_eci_unit_tmp_0]) + (real_T)
        c_y[rtu_sc2sun_eci_unit_tmp_0];
      rtu_sc2sun_eci_unit_1[b_ibmat + 1] = (((tmp_1[b_ibmat + 3] * 0.0 +
        tmp_1[b_ibmat] * 0.0) + -tmp_1[b_ibmat + 6]) - e_y[b_ibmat + 1]) +
        (real_T)c_y[b_ibmat + 1];
      rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp_0 + 1] =
        (((rtu_sc2sun_eci_unit_0[3 * b_ibmat] + b_b[3 * b_ibmat]) - (real_T)d_b
          [3 * b_ibmat] * rtb_Sum) - e_y[rtu_sc2sun_eci_unit_tmp_0 + 1]) +
        (real_T)c_y[rtu_sc2sun_eci_unit_tmp_0 + 1];
      rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp_0 + 2] =
        (((rtu_sc2sun_eci_unit_0[rtu_sc2sun_eci_unit_tmp] +
           b_b[rtu_sc2sun_eci_unit_tmp]) - (real_T)d_b[rtu_sc2sun_eci_unit_tmp] *
          rtb_Sum) - e_y[rtu_sc2sun_eci_unit_tmp_0 + 2]) + (real_T)
        c_y[rtu_sc2sun_eci_unit_tmp_0 + 2];
      rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp_0 + 3] =
        (((rtu_sc2sun_eci_unit_0[nz] + b_b[nz]) - (real_T)d_b[nz] * rtb_Sum) -
         e_y[rtu_sc2sun_eci_unit_tmp_0 + 3]) + (real_T)
        c_y[rtu_sc2sun_eci_unit_tmp_0 + 3];
    }

    schur_ZrGmuypS(rtu_sc2sun_eci_unit_1, rtb_MI, De);
    tmp_1[0] = 0.0;
    tmp_1[3] = -rtu_sc2sun_eci_unit[2];
    tmp_1[6] = rtu_sc2sun_eci_unit[1];
    tmp_1[1] = rtu_sc2sun_eci_unit[2];
    tmp_1[4] = 0.0;
    tmp_1[7] = -rtu_sc2sun_eci_unit[0];
    tmp_1[2] = -rtu_sc2sun_eci_unit[1];
    tmp_1[5] = rtu_sc2sun_eci_unit[0];
    tmp_1[8] = 0.0;
    rtu_sc2sun_eci_unit_2[0] = rtb_Add - 0.50000000000000011;
    for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
      rtu_sc2sun_eci_unit_2[b_ibmat + 1] = (tmp_1[b_ibmat + 6] * 0.0 +
        (tmp_1[b_ibmat + 3] + tmp_1[b_ibmat] * 0.0)) - d_y[(b_ibmat + 1) << 2];
    }

    tmp_1[0] = 0.0;
    tmp_1[3] = -rtu_sc2sun_eci_unit[2];
    tmp_1[6] = rtu_sc2sun_eci_unit[1];
    tmp_1[1] = rtu_sc2sun_eci_unit[2];
    tmp_1[4] = 0.0;
    tmp_1[7] = -rtu_sc2sun_eci_unit[0];
    tmp_1[2] = -rtu_sc2sun_eci_unit[1];
    tmp_1[5] = rtu_sc2sun_eci_unit[0];
    tmp_1[8] = 0.0;
    rtb_ME[0] = 2.0 - rtu_sc2sun_eci_unit_2[0];
    rtb_ME[4] = 0.0 - rtu_sc2sun_eci_unit_2[1];
    rtb_ME[8] = 0.0 - rtu_sc2sun_eci_unit_2[2];
    rtb_ME[12] = 0.0 - rtu_sc2sun_eci_unit_2[3];
    for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
      d = c_0[b_ibmat];
      rtu_sc2sun_eci_unit_0[3 * b_ibmat] = rtu_sc2sun_eci_unit[0] * (real_T)d;
      b_b[3 * b_ibmat] = 0.0 * rtu_sc2sun_eci_unit[b_ibmat];
      rtu_sc2sun_eci_unit_tmp = 3 * b_ibmat + 1;
      rtu_sc2sun_eci_unit_0[rtu_sc2sun_eci_unit_tmp] = rtu_sc2sun_eci_unit[1] *
        (real_T)d;
      b_b[rtu_sc2sun_eci_unit_tmp] = rtu_sc2sun_eci_unit[b_ibmat];
      nz = 3 * b_ibmat + 2;
      rtu_sc2sun_eci_unit_0[nz] = rtu_sc2sun_eci_unit[2] * (real_T)d;
      b_b[nz] = 0.0 * rtu_sc2sun_eci_unit[b_ibmat];
      rtb_ME[b_ibmat + 1] = (real_T)c_y[b_ibmat + 1] - (((tmp_1[b_ibmat] * 0.0 +
        tmp_1[b_ibmat + 3]) + tmp_1[b_ibmat + 6] * 0.0) - d_y[b_ibmat + 1]);
      rtu_sc2sun_eci_unit_tmp_0 = (b_ibmat + 1) << 2;
      rtb_ME[rtu_sc2sun_eci_unit_tmp_0 + 1] = (real_T)
        c_y[rtu_sc2sun_eci_unit_tmp_0 + 1] - (((rtu_sc2sun_eci_unit_0[3 *
        b_ibmat] + b_b[3 * b_ibmat]) - (real_T)d_b[3 * b_ibmat] * rtb_Add) -
        d_y[rtu_sc2sun_eci_unit_tmp_0 + 1]);
      rtb_ME[rtu_sc2sun_eci_unit_tmp_0 + 2] = (real_T)
        c_y[rtu_sc2sun_eci_unit_tmp_0 + 2] -
        (((rtu_sc2sun_eci_unit_0[rtu_sc2sun_eci_unit_tmp] +
           b_b[rtu_sc2sun_eci_unit_tmp]) - (real_T)d_b[rtu_sc2sun_eci_unit_tmp] *
          rtb_Add) - d_y[rtu_sc2sun_eci_unit_tmp_0 + 2]);
      rtb_ME[rtu_sc2sun_eci_unit_tmp_0 + 3] = (real_T)
        c_y[rtu_sc2sun_eci_unit_tmp_0 + 3] - (((rtu_sc2sun_eci_unit_0[nz] +
        b_b[nz]) - (real_T)d_b[nz] * rtb_Add) - d_y[rtu_sc2sun_eci_unit_tmp_0 +
        3]);
    }

    schur_ZrGmuypS(rtb_ME, rtu_sc2sun_eci_unit_1, Di);
    De[0] = sqrt(De[0]);
    Di[0] = sqrt(Di[0]);
    De[5] = sqrt(De[5]);
    Di[5] = sqrt(Di[5]);
    De[10] = sqrt(De[10]);
    Di[10] = sqrt(Di[10]);
    De[15] = sqrt(De[15]);
    Di[15] = sqrt(Di[15]);

    /* MATLAB Function: '<S386>/SOLVE' incorporates:
     *  MATLAB Function: '<S386>/INITIALIZE'
     */
    memset(&rty_soar_telemetry[0], 0, 100U * sizeof(real_T));
    memset(&rty_soar_telemetry_i[0], 0, 30U * sizeof(real_T));

    /* MATLAB Function: '<S386>/INITIALIZE' incorporates:
     *  MATLAB Function: '<S386>/SOLVE'
     */
    d = 0;
    rtb_Add = ((rtu_sc_quat_in[0] * rtb_Reshape[0] + rtu_sc_quat_in[1] *
                rtb_Reshape[1]) + rtu_sc_quat_in[2] * rtb_Reshape[2]) +
      rtu_sc_quat_in[3] * rtb_Reshape[3];
    if (1.0 - rtb_Add < 0.0) {
      rtb_Add = 0.0;
    } else {
      rtb_Add = acos(rtb_Add);
    }

    if (rtb_Add > 3.1415926535897931) {
      d = 2;
      for (nz = 0; nz < 10; nz++) {
        b_ibmat = nz << 2;
        qb[b_ibmat] = 1.0;
        qb[b_ibmat + 1] = 0.0;
        qb[b_ibmat + 2] = 0.0;
        qb[b_ibmat + 3] = 0.0;
      }
    } else {
      rtb_Sum = sin(rtb_Add);
      if (rtb_Sum < 1.0E-8) {
        for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 10;
             rtu_sc2sun_eci_unit_tmp++) {
          b_ibmat = rtu_sc2sun_eci_unit_tmp << 2;
          qb[b_ibmat] = rtu_sc_quat_in[0];
          qb[b_ibmat + 1] = rtu_sc_quat_in[1];
          qb[b_ibmat + 2] = rtu_sc_quat_in[2];
          qb[b_ibmat + 3] = rtu_sc_quat_in[3];
        }
      } else {
        for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 10;
             rtu_sc2sun_eci_unit_tmp++) {
          t = (((real_T)rtu_sc2sun_eci_unit_tmp + 1.0) - 1.0) / 9.0;
          coff = sin((1.0 - t) * rtb_Add);
          t = sin(t * rtb_Add);
          coff /= rtb_Sum;
          t /= rtb_Sum;
          qb[rtu_sc2sun_eci_unit_tmp << 2] = coff * rtu_sc_quat_in[0] + t *
            rtb_Reshape[0];
          qb[(rtu_sc2sun_eci_unit_tmp << 2) + 1] = coff * rtu_sc_quat_in[1] + t *
            rtb_Reshape[1];
          qb[(rtu_sc2sun_eci_unit_tmp << 2) + 2] = coff * rtu_sc_quat_in[2] + t *
            rtb_Reshape[2];
          qb[(rtu_sc2sun_eci_unit_tmp << 2) + 3] = coff * rtu_sc_quat_in[3] + t *
            rtb_Reshape[3];
        }
      }
    }

    if (d == 0) {
      for (nz = 0; nz < 10; nz++) {
        rtb_Sum = 0.1111111111111111 * (real_T)nz;
        if (rtb_Sum == 0.0) {
          rtb_MathFunction[0] = rtu_body_rates_radps[0];
          rtb_MathFunction[1] = rtu_body_rates_radps[1];
          rtb_MathFunction[2] = rtu_body_rates_radps[2];
        } else {
          if (rtb_Sum == 1.0) {
            rtb_MathFunction[0] = 0.0;
          } else if (rtu_body_rates_radps[0] == 0.0) {
            rtb_MathFunction[0] = rtu_body_rates_radps[0];
          } else {
            rtb_MathFunction[0] = (1.0 - rtb_Sum) * rtu_body_rates_radps[0];
          }

          if (rtb_Sum == 1.0) {
            rtb_MathFunction[1] = 0.0;
          } else if (rtu_body_rates_radps[1] == 0.0) {
            rtb_MathFunction[1] = rtu_body_rates_radps[1];
          } else {
            rtb_MathFunction[1] = (1.0 - rtb_Sum) * rtu_body_rates_radps[1];
          }

          if (rtb_Sum == 1.0) {
            rtb_MathFunction[2] = 0.0;
          } else if (rtu_body_rates_radps[2] == 0.0) {
            rtb_MathFunction[2] = rtu_body_rates_radps[2];
          } else {
            rtb_MathFunction[2] = (1.0 - rtb_Sum) * rtu_body_rates_radps[2];
          }
        }

        for (b_ibmat = 0; b_ibmat < 3; b_ibmat++) {
          rtu_sc2sun_eci_unit_3[b_ibmat] = rtb_C_cmd[b_ibmat + 6] *
            rtb_MathFunction[2] + (rtb_C_cmd[b_ibmat + 3] * rtb_MathFunction[1]
            + rtb_C_cmd[b_ibmat] * rtb_MathFunction[0]);
        }

        b_ibmat = nz << 2;
        rty_soar_telemetry[10 * nz] = qb[b_ibmat];
        rty_soar_telemetry[10 * nz + 1] = qb[b_ibmat + 1];
        rty_soar_telemetry[10 * nz + 2] = qb[b_ibmat + 2];
        rty_soar_telemetry[10 * nz + 3] = qb[(nz << 2) + 3];
        rty_soar_telemetry[10 * nz + 4] = rtu_sc2sun_eci_unit_3[0];
        rty_soar_telemetry[10 * nz + 7] = rtb_Gain[0];
        rty_soar_telemetry_i[3 * nz] = 0.0;
        rty_soar_telemetry[10 * nz + 5] = rtu_sc2sun_eci_unit_3[1];
        rty_soar_telemetry[10 * nz + 8] = rtb_Gain[1];
        rty_soar_telemetry_i[3 * nz + 1] = 0.0;
        rty_soar_telemetry[10 * nz + 6] = rtu_sc2sun_eci_unit_3[2];
        rty_soar_telemetry[10 * nz + 9] = rtb_Gain[2];
        rty_soar_telemetry_i[3 * nz + 2] = 0.0;
      }
    }

    for (b_ibmat = 0; b_ibmat < 4; b_ibmat++) {
      for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 4;
           rtu_sc2sun_eci_unit_tmp++) {
        nz = rtu_sc2sun_eci_unit_tmp << 2;
        rtu_sc2sun_eci_unit_tmp_0 = b_ibmat + nz;
        rtb_MI_0[rtu_sc2sun_eci_unit_tmp_0] = 0.0;
        rtb_MI_0[rtu_sc2sun_eci_unit_tmp_0] += De[nz] * rtb_MI[b_ibmat];
        rtb_MI_0[rtu_sc2sun_eci_unit_tmp_0] += De[nz + 1] * rtb_MI[b_ibmat + 4];
        rtb_MI_0[rtu_sc2sun_eci_unit_tmp_0] += De[nz + 2] * rtb_MI[b_ibmat + 8];
        rtb_MI_0[rtu_sc2sun_eci_unit_tmp_0] += De[nz + 3] * rtb_MI[b_ibmat + 12];
      }

      for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 4;
           rtu_sc2sun_eci_unit_tmp++) {
        nz = b_ibmat + (rtu_sc2sun_eci_unit_tmp << 2);
        rtb_ME[nz] = 0.0;
        rtb_ME[nz] += rtb_MI_0[b_ibmat] * rtb_MI[rtu_sc2sun_eci_unit_tmp];
        rtb_ME[nz] += rtb_MI_0[b_ibmat + 4] * rtb_MI[rtu_sc2sun_eci_unit_tmp + 4];
        rtb_ME[nz] += rtb_MI_0[b_ibmat + 8] * rtb_MI[rtu_sc2sun_eci_unit_tmp + 8];
        rtb_ME[nz] += rtb_MI_0[b_ibmat + 12] * rtb_MI[rtu_sc2sun_eci_unit_tmp +
          12];
      }
    }

    for (b_ibmat = 0; b_ibmat < 4; b_ibmat++) {
      for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 4;
           rtu_sc2sun_eci_unit_tmp++) {
        nz = rtu_sc2sun_eci_unit_tmp << 2;
        rtu_sc2sun_eci_unit_tmp_0 = b_ibmat + nz;
        De[rtu_sc2sun_eci_unit_tmp_0] = 0.0;
        De[rtu_sc2sun_eci_unit_tmp_0] += Di[nz] * rtu_sc2sun_eci_unit_1[b_ibmat];
        De[rtu_sc2sun_eci_unit_tmp_0] += Di[nz + 1] *
          rtu_sc2sun_eci_unit_1[b_ibmat + 4];
        De[rtu_sc2sun_eci_unit_tmp_0] += Di[nz + 2] *
          rtu_sc2sun_eci_unit_1[b_ibmat + 8];
        De[rtu_sc2sun_eci_unit_tmp_0] += Di[nz + 3] *
          rtu_sc2sun_eci_unit_1[b_ibmat + 12];
      }

      for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 4;
           rtu_sc2sun_eci_unit_tmp++) {
        rtu_sc2sun_eci_unit_tmp_0 = b_ibmat + (rtu_sc2sun_eci_unit_tmp << 2);
        rtb_MI[rtu_sc2sun_eci_unit_tmp_0] = 0.0;
        rtb_MI[rtu_sc2sun_eci_unit_tmp_0] += De[b_ibmat] *
          rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp];
        rtb_MI[rtu_sc2sun_eci_unit_tmp_0] += De[b_ibmat + 4] *
          rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp + 4];
        rtb_MI[rtu_sc2sun_eci_unit_tmp_0] += De[b_ibmat + 8] *
          rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp + 8];
        rtb_MI[rtu_sc2sun_eci_unit_tmp_0] += De[b_ibmat + 12] *
          rtu_sc2sun_eci_unit_1[rtu_sc2sun_eci_unit_tmp + 12];
      }
    }

    /* MATLAB Function: '<S386>/SOLVE' incorporates:
     *  MATLAB Function: '<S386>/INITIALIZE'
     */
    *rty_soar_telemetry_d = 25.0;
    rtb_Sum = *rty_soar_telemetry_d;
    memset(&rty_soar_telemetry_im[0], 0, 17U * sizeof(real_T));
    if (d == 0) {
      memcpy(&xi[0], &rty_soar_telemetry[0], 10U * sizeof(real_T));
      for (b_ibmat = 0; b_ibmat < 7; b_ibmat++) {
        xf[b_ibmat] = rty_soar_telemetry[b_ibmat + 90];
      }

      b_ibmat = 1;
      nz = 0;
      exitg1 = false;
      while ((!exitg1) && (nz < 15)) {
        b_ibmat = nz + 1;
        foh_c1NVxM2u(rty_soar_telemetry, rty_soar_telemetry_i, rtb_Sum,
                     rtb_C_cmd, rtDW.EH, rtDW.BE, ES, AR);
        parse_ecos_JkxDos9P_l(xi, xf, rtb_C_cmd, rtDW.EH, rtDW.BE, ES, AR,
                              rtb_ME, rtb_MI, 0.0028, 0.1, 25.0, 15.0, 100.0, c,
                              rtDW.G, h, rtDW.A, b);
        convert_to_CCS_fbGN0NKz(rtDW.A, rtDW.Air, Ajc, rtDW.Apr);
        convert_to_CCS_9tojus3A(rtDW.G, Gir, Gjc, rtDW.Gpr);
        run_ecos(332, 474, 117, 322, 21, c, Gjc, Gir, rtDW.Gpr, h, d_2, Ajc,
                 rtDW.Air, rtDW.Apr, b, y);
        diff = 0.0;
        for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 100;
             rtu_sc2sun_eci_unit_tmp++) {
          rtb_Sum = y[rtu_sc2sun_eci_unit_tmp];
          diff += fabs(rty_soar_telemetry[rtu_sc2sun_eci_unit_tmp] - rtb_Sum);
          rty_soar_telemetry[rtu_sc2sun_eci_unit_tmp] = rtb_Sum;
        }

        memcpy(&rty_soar_telemetry_i[0], &y[100], 30U * sizeof(real_T));
        rtb_Sum = y[131];
        memcpy(&V[0], &y[132], 99U * sizeof(real_T));
        rty_soar_telemetry_im[nz] = y[332];
        if (rty_soar_telemetry_im[nz] != 0.0) {
          rty_soar_telemetry_im[16] = -1.0;
        }

        if (nz + 1 > 1) {
          rtb_Add = 0.0;
          for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 99;
               rtu_sc2sun_eci_unit_tmp++) {
            rtb_Add += fabs(y[rtu_sc2sun_eci_unit_tmp + 132]);
          }

          if ((rtb_Add < 1.0E-5) && (diff < 0.01)) {
            rty_soar_telemetry_im[15] = (real_T)nz + 1.0;
            exitg1 = true;
          } else {
            nz++;
          }
        } else {
          nz++;
        }
      }

      if (b_ibmat == 15) {
        rty_soar_telemetry_im[15] = 15.0;
        if (rty_soar_telemetry_im[16] != -1.0) {
          rtb_Add = 0.0;
          for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 99;
               rtu_sc2sun_eci_unit_tmp++) {
            rtb_Add += fabs(V[rtu_sc2sun_eci_unit_tmp]);
          }

          if (rtb_Add > 1.0E-5) {
            rty_soar_telemetry_im[16] = 3.0;
          } else {
            if (diff > 0.05) {
              rty_soar_telemetry_im[16] = 4.0;
            }
          }
        }
      }
    } else {
      rty_soar_telemetry_im[16] = d;
      memset(&rty_soar_telemetry[0], 0, 100U * sizeof(real_T));
      memset(&rty_soar_telemetry_i[0], 0, 30U * sizeof(real_T));
      rtb_Sum = 25.0;
    }

    *rty_soar_telemetry_d = rtb_Sum;
  }

  rtPrevZCX.soar_lib_Trig_ZCE = rtb_FixPtRelationalOperator;

  /* End of Outputs for SubSystem: '<S342>/soar_lib' */

  /* Sum: '<S342>/Sum' */
  rtb_Sum = rtu_MET_utc_s - rtu_MET_epoch;

  /* Switch: '<S385>/Switch' incorporates:
   *  UnitDelay: '<S385>/Unit Delay'
   */
  if (rtb_FixPtRelationalOperator) {
    diff = rtb_Sum;
  } else {
    diff = rtDW.UnitDelay_DSTATE_p;
  }

  /* End of Switch: '<S385>/Switch' */

  /* Sum: '<S385>/Subtract' */
  rtb_Add = rtb_Sum - diff;

  /* Delay: '<S385>/Resettable Delay' incorporates:
   *  SignalConversion generated from: '<S385>/Resettable Delay'
   */
  if (rtb_FixPtRelationalOperator && (rtPrevZCX.ResettableDelay_Reset_ZCE !=
       POS_ZCSIG)) {
    rtDW.icLoad = 1U;
  }

  rtPrevZCX.ResettableDelay_Reset_ZCE = rtb_FixPtRelationalOperator;
  if (rtDW.icLoad != 0) {
    rtDW.ResettableDelay_DSTATE[0] = rtu_sc_quat_in[0];
    rtDW.ResettableDelay_DSTATE[1] = rtu_sc_quat_in[1];
    rtDW.ResettableDelay_DSTATE[2] = rtu_sc_quat_in[2];
    rtDW.ResettableDelay_DSTATE[3] = rtu_sc_quat_in[3];
    rtDW.ResettableDelay_DSTATE[4] = rtu_body_rates_radps[0];
    rtDW.ResettableDelay_DSTATE[7] = rtb_Gain[0];
    rtDW.ResettableDelay_DSTATE[5] = rtu_body_rates_radps[1];
    rtDW.ResettableDelay_DSTATE[8] = rtb_Gain[1];
    rtDW.ResettableDelay_DSTATE[6] = rtu_body_rates_radps[2];
    rtDW.ResettableDelay_DSTATE[9] = rtb_Gain[2];
  }

  /* MATLAB Function: '<S385>/soar_INTERP' incorporates:
   *  Delay: '<S385>/Resettable Delay'
   */
  xi[9] = *rty_soar_telemetry_d;
  xi[0] = 0.0;
  if (0.0 == -*rty_soar_telemetry_d) {
    for (nz = 0; nz < 8; nz++) {
      xi[nz + 1] = (((real_T)nz + 2.0) * 2.0 - 11.0) / 9.0 *
        *rty_soar_telemetry_d;
    }
  } else if ((*rty_soar_telemetry_d < 0.0) && (fabs(*rty_soar_telemetry_d) >
              8.9884656743115785E+307)) {
    rtb_Sum = *rty_soar_telemetry_d / 9.0;
    for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 8;
         rtu_sc2sun_eci_unit_tmp++) {
      xi[rtu_sc2sun_eci_unit_tmp + 1] = ((real_T)rtu_sc2sun_eci_unit_tmp + 1.0) *
        rtb_Sum;
    }
  } else {
    rtb_Sum = *rty_soar_telemetry_d / 9.0;
    for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 8;
         rtu_sc2sun_eci_unit_tmp++) {
      xi[rtu_sc2sun_eci_unit_tmp + 1] = ((real_T)rtu_sc2sun_eci_unit_tmp + 1.0) *
        rtb_Sum;
    }
  }

  for (b_ibmat = 0; b_ibmat < 10; b_ibmat++) {
    x[b_ibmat] = (rtb_Add > xi[b_ibmat]);
  }

  nz = x[0];
  for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 9;
       rtu_sc2sun_eci_unit_tmp++) {
    nz += x[rtu_sc2sun_eci_unit_tmp + 1];
  }

  if (nz == 0) {
    nz = 1;
  }

  if ((*rty_soar_telemetry_d > 2.2204460492503131E-16) && (rtb_Add >=
       *rty_soar_telemetry_d)) {
    rty_torque_body_ff[0] = 0.0;
    rty_torque_body_ff[1] = 0.0;
    rty_torque_body_ff[2] = 0.0;
    mldivide_NEqYeqp4(J, &rty_soar_telemetry[94], rtb_MathFunction);
    rtb_x_opt_t[0] = rty_soar_telemetry[90];
    rtb_x_opt_t[1] = rty_soar_telemetry[91];
    rtb_x_opt_t[2] = rty_soar_telemetry[92];
    rtb_x_opt_t[3] = rty_soar_telemetry[93];
    rtb_x_opt_t[4] = rtb_MathFunction[0];
    rtb_x_opt_t[7] = rty_soar_telemetry[97];
    rtb_x_opt_t[5] = rtb_MathFunction[1];
    rtb_x_opt_t[8] = rty_soar_telemetry[98];
    rtb_x_opt_t[6] = rtb_MathFunction[2];
    rtb_x_opt_t[9] = rty_soar_telemetry[99];
  } else if ((nz > 0) && (*rty_soar_telemetry_d > 2.2204460492503131E-16)) {
    memcpy(&rtb_x_opt_t[0], &rtDW.ResettableDelay_DSTATE[0], 10U * sizeof(real_T));
    for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 10;
         rtu_sc2sun_eci_unit_tmp++) {
      deriv_XPX6EHrN(rtb_Add, rtb_x_opt_t, rty_soar_telemetry_i, xi, J, k1);
      for (b_ibmat = 0; b_ibmat < 10; b_ibmat++) {
        rtb_x_opt_t_0[b_ibmat] = 0.0125 * k1[b_ibmat] + rtb_x_opt_t[b_ibmat];
      }

      deriv_XPX6EHrN(rtb_Add + 0.0125, rtb_x_opt_t_0, rty_soar_telemetry_i, xi,
                     J, k2);
      for (b_ibmat = 0; b_ibmat < 10; b_ibmat++) {
        rtb_x_opt_t_0[b_ibmat] = 0.0125 * k2[b_ibmat] + rtb_x_opt_t[b_ibmat];
      }

      deriv_XPX6EHrN(rtb_Add + 0.0125, rtb_x_opt_t_0, rty_soar_telemetry_i, xi,
                     J, k3);
      for (b_ibmat = 0; b_ibmat < 10; b_ibmat++) {
        rtb_x_opt_t_0[b_ibmat] = 0.025 * k3[b_ibmat] + rtb_x_opt_t[b_ibmat];
      }

      deriv_XPX6EHrN(rtb_Add + 0.025, rtb_x_opt_t_0, rty_soar_telemetry_i, xi, J,
                     tmp);
      for (b_ibmat = 0; b_ibmat < 10; b_ibmat++) {
        rtb_x_opt_t[b_ibmat] += (((2.0 * k2[b_ibmat] + k1[b_ibmat]) + 2.0 *
          k3[b_ibmat]) + tmp[b_ibmat]) * 0.0041666666666666666;
      }
    }

    if (rtb_Add > xi[9]) {
      for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 3;
           rtu_sc2sun_eci_unit_tmp++) {
        rty_torque_body_ff[0] = 0.0;
        rty_torque_body_ff[1] = 0.0;
        rty_torque_body_ff[2] = 0.0;
      }
    } else if (rtb_Add < 0.0) {
      for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 3;
           rtu_sc2sun_eci_unit_tmp++) {
        rty_torque_body_ff[0] = 0.0;
        rty_torque_body_ff[1] = 0.0;
        rty_torque_body_ff[2] = 0.0;
      }
    } else {
      for (rtu_sc2sun_eci_unit_tmp = 0; rtu_sc2sun_eci_unit_tmp < 3;
           rtu_sc2sun_eci_unit_tmp++) {
        memcpy(&k2[0], &xi[0], 10U * sizeof(real_T));
        for (b_ibmat = 0; b_ibmat < 10; b_ibmat++) {
          k1[b_ibmat] = rty_soar_telemetry_i[3 * b_ibmat +
            rtu_sc2sun_eci_unit_tmp];
        }

        rty_torque_body_ff[rtu_sc2sun_eci_unit_tmp] = (rtNaN);
        nz = 0;
        do {
          exitg2 = 0;
          if (nz < 10) {
            if (rtIsNaN(xi[nz])) {
              exitg2 = 1;
            } else {
              nz++;
            }
          } else {
            if (xi[1] < 0.0) {
              for (nz = 0; nz < 5; nz++) {
                rtb_Sum = k2[nz];
                k2[nz] = k2[9 - nz];
                k2[9 - nz] = rtb_Sum;
              }

              for (nz = 0; nz < 5; nz++) {
                rtb_Sum = k1[nz];
                k1[nz] = k1[9 - nz];
                k1[9 - nz] = rtb_Sum;
              }
            }

            if ((!rtIsNaN(rtb_Add)) && (!(rtb_Add > k2[9])) && (!(rtb_Add < k2[0])))
            {
              nz = bsearch_qRItHZGW(k2, rtb_Add) - 1;
              rtb_Sum = (rtb_Add - k2[nz]) / (k2[nz + 1] - k2[nz]);
              if (rtb_Sum == 0.0) {
                rty_torque_body_ff[rtu_sc2sun_eci_unit_tmp] = k1[nz];
              } else if (rtb_Sum == 1.0) {
                rty_torque_body_ff[rtu_sc2sun_eci_unit_tmp] = k1[nz + 1];
              } else {
                t = k1[nz + 1];
                if (t == k1[nz]) {
                  rty_torque_body_ff[rtu_sc2sun_eci_unit_tmp] = k1[nz];
                } else {
                  rty_torque_body_ff[rtu_sc2sun_eci_unit_tmp] = (1.0 - rtb_Sum) *
                    k1[nz] + t * rtb_Sum;
                }
              }
            }

            exitg2 = 1;
          }
        } while (exitg2 == 0);
      }
    }
  } else {
    rty_torque_body_ff[0] = 0.0;
    rty_torque_body_ff[1] = 0.0;
    rty_torque_body_ff[2] = 0.0;
    memcpy(&rtb_x_opt_t[0], &rtDW.ResettableDelay_DSTATE[0], 10U * sizeof(real_T));
  }

  /* End of MATLAB Function: '<S385>/soar_INTERP' */

  /* Logic: '<S344>/AND' incorporates:
   *  Abs: '<S344>/Abs'
   *  Constant: '<S392>/Constant'
   *  Constant: '<S393>/Constant'
   *  RelationalOperator: '<S392>/Compare'
   *  RelationalOperator: '<S393>/Compare'
   */
  rtb_AND = ((rtu_gnc_mode == 8) && (fabs(rty_soar_telemetry_im[16]) < 0.1));

  /* Switch: '<S344>/Switch' */
  if (rtb_AND) {
    /* RateTransition: '<S10>/Rate Transition6' */
    rty_quat_cmd[0] = rtb_x_opt_t[0];
    rty_quat_cmd[1] = rtb_x_opt_t[1];
    rty_quat_cmd[2] = rtb_x_opt_t[2];
    rty_quat_cmd[3] = rtb_x_opt_t[3];
  }

  /* End of Switch: '<S344>/Switch' */

  /* S-Function (sdspcount2): '<S342>/Counter' */
  if (MWDSP_EPH_R_B(rtb_FixPtRelationalOperator, &rtDW.Counter_ClkEphState) !=
      0U) {
    rtDW.Counter_Count++;
  }

  *rty_soar_telemetry_h = rtDW.Counter_Count;

  /* End of S-Function (sdspcount2): '<S342>/Counter' */

  /* Switch: '<S344>/Switch1' incorporates:
   *  Switch: '<S344>/Switch2'
   */
  if (rtb_AND) {
    rty_body_rates_cmd[0] = rtb_x_opt_t[4];
    rty_body_rates_cmd[1] = rtb_x_opt_t[5];
    rty_body_rates_cmd[2] = rtb_x_opt_t[6];

    /* Switch: '<S344>/Switch3' incorporates:
     *  Constant: '<S344>/Constant2'
     */
    *rty_target_gen_flag = 8U;
  } else {
    rty_body_rates_cmd[0] = 0.0;
    rty_torque_body_ff[0] = 0.0;
    rty_body_rates_cmd[1] = 0.0;
    rty_torque_body_ff[1] = 0.0;
    rty_body_rates_cmd[2] = 0.0;
    rty_torque_body_ff[2] = 0.0;
  }

  /* End of Switch: '<S344>/Switch1' */

  /* Update for UnitDelay: '<S384>/Delay Input1'
   *
   * Block description for '<S384>/Delay Input1':
   *
   *  Store in Global RAM
   */
  rtDW.DelayInput1_DSTATE = rtb_Compare_lr;

  /* Update for UnitDelay: '<S385>/Unit Delay' */
  rtDW.UnitDelay_DSTATE_p = diff;

  /* Update for Delay: '<S385>/Resettable Delay' */
  rtDW.icLoad = 0U;
  memcpy(&rtDW.ResettableDelay_DSTATE[0], &rtb_x_opt_t[0], 10U * sizeof(real_T));
}

/*
 * File trailer for generated code.
 *
 * [EOF]
 */
